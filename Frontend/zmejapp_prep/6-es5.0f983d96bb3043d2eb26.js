function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"8vy2":function(e,t,a){"use strict";a.r(t),a.d(t,"FormsModule",(function(){return Zt}));var i=a("PCNd"),o=a("tyNb"),r=a("GJmQ"),n=a("ey9i"),c=a("0IaG"),l=a("3Pt+"),s=a("fXoL"),b=a("kmnG"),u=a("d3UM"),d=a("ofXK"),m=a("qFsG"),f=a("bTqV"),p=a("FKr1"),h=["class","component"];function g(e,t){if(1&e&&(s.Zb(0,"mat-option",9),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Fb(1),s.Oc(a.fullName)}}var v,Z=function(){return[]},C=((v=function(){function e(t,a,i){_classCallCheck(this,e),this.dialogRef=t,this.data=a,this.fb=i,this.vData={},this.vData=this.data.vData,console.log(this.vData),this.formConfirm=this.fb.group({id:null,Estado:[1],AsignadoA:[null,l.w.compose([l.w.required])],Observacion:""})}return _createClass(e,[{key:"cancel",value:function(){this.dialogRef.close(!1)}},{key:"submit",value:function(e,t){this.dialogRef.close({estado:!0,Observacion:e,AsignadoA:t})}}]),e}()).\u0275fac=function(e){return new(e||v)(s.Tb(c.g),s.Tb(c.a),s.Tb(l.e))},v.\u0275cmp=s.Nb({type:v,selectors:[["ngx-dialog-confirm",8,"component"]],attrs:h,decls:19,vars:6,consts:[["mat-dialog-title",""],[3,"formGroup"],["required","","formControlName","AsignadoA"],["AsignadoA",""],[3,"value",4,"ngFor","ngForOf"],[1,"demo-full-width"],["matInput","","formControlName","Observacion"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(e,t){1&e&&(s.Zb(0,"h2",0),s.Nc(1),s.Yb(),s.Zb(2,"mat-dialog-content"),s.Zb(3,"form",1),s.Zb(4,"mat-form-field"),s.Zb(5,"mat-label"),s.Nc(6,"ASIGNAR A"),s.Yb(),s.Zb(7,"mat-select",2,3),s.Lc(9,g,2,2,"mat-option",4),s.Yb(),s.Yb(),s.Zb(10,"mat-form-field",5),s.Zb(11,"mat-label"),s.Nc(12,"Observaci\xf3n"),s.Yb(),s.Ub(13,"textarea",6),s.Yb(),s.Yb(),s.Yb(),s.Zb(14,"mat-dialog-actions"),s.Zb(15,"button",7),s.hc("click",(function(){return t.cancel()})),s.Nc(16,"Cancelar"),s.Yb(),s.Zb(17,"button",8),s.Nc(18,"Aceptar"),s.Yb(),s.Yb()),2&e&&(s.Fb(1),s.Oc(t.vData.title),s.Fb(2),s.rc("formGroup",t.formConfirm),s.Fb(6),s.rc("ngForOf",t.vData.usersStatus||s.tc(5,Z)),s.Fb(8),s.rc("mat-dialog-close",t.formConfirm.value)("disabled",!t.formConfirm.valid))},directives:[c.h,c.e,l.x,l.q,l.j,b.c,b.g,u.a,l.v,l.p,l.h,d.m,m.b,l.c,c.c,f.b,c.d,p.n],styles:[""]}),v),Y=a("AytR"),N=["class","component"];function y(e,t){if(1&e&&(s.Zb(0,"mat-option",11),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.code),s.Fb(1),s.Oc(a.name)}}function D(e,t){if(1&e&&(s.Zb(0,"mat-option",11),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Fb(1),s.Oc(a.fullName)}}var F,O=function(){return[]},M=((F=function(){function e(t,a,i,o){_classCallCheck(this,e),this.dialogRef=t,this.data=a,this.fb=i,this.authorizationService=o,this.vData={},this.UsersStatus=[],this.alive=!0,this.error_message="";try{this.vData=this.data.vData,this.formReject=this.fb.group({id:null,Estado:[null,l.w.compose([l.w.required])],AsignadoA:[null,l.w.compose([l.w.required])],Observacion:""})}catch(r){}}return _createClass(e,[{key:"cancel",value:function(){this.dialogRef.close(!1)}},{key:"submit",value:function(e){console.log(this.formReject.value)}},{key:"GetuserByStatusCode",value:function(e){var t=this;try{console.log(e),this.UsersStatus=[],e>0&&this.authorizationService.get("api/RoleStatusCode/getUserByCode/"+e+"/"+Y.a.aplicationId).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){t.UsersStatus=e.body}),(function(e){console.log(e),t.error_message=e}))}catch(a){}}}]),e}()).\u0275fac=function(e){return new(e||F)(s.Tb(c.g),s.Tb(c.a),s.Tb(l.e),s.Tb(n.c))},F.\u0275cmp=s.Nb({type:F,selectors:[["ngx-dialog-reject",8,"component"]],attrs:N,decls:25,vars:9,consts:[["mat-dialog-title",""],[3,"formGroup"],["required","","name","Estado","formControlName","Estado",3,"ngModel","ngModelChange"],["Estado",""],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","AsignadoA"],["AsignadoA",""],[1,"demo-full-width"],["matInput","","formControlName","Observacion"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(e,t){1&e&&(s.Zb(0,"h2",0),s.Nc(1),s.Yb(),s.Zb(2,"mat-dialog-content"),s.Zb(3,"form",1),s.Zb(4,"mat-form-field"),s.Zb(5,"mat-label"),s.Nc(6,"ESTADO"),s.Yb(),s.Zb(7,"mat-select",2,3),s.hc("ngModelChange",(function(e){return t.vData.Estado=e}))("ngModelChange",(function(e){return t.GetuserByStatusCode(e)})),s.Lc(9,y,2,2,"mat-option",4),s.Yb(),s.Yb(),s.Zb(10,"mat-form-field"),s.Zb(11,"mat-label"),s.Nc(12,"ASIGNAR A"),s.Yb(),s.Zb(13,"mat-select",5,6),s.Lc(15,D,2,2,"mat-option",4),s.Yb(),s.Yb(),s.Zb(16,"mat-form-field",7),s.Zb(17,"mat-label"),s.Nc(18,"Observaci\xf3n"),s.Yb(),s.Ub(19,"textarea",8),s.Yb(),s.Yb(),s.Yb(),s.Zb(20,"mat-dialog-actions"),s.Zb(21,"button",9),s.hc("click",(function(){return t.cancel()})),s.Nc(22,"Cancelar"),s.Yb(),s.Zb(23,"button",10),s.Nc(24,"Aceptar"),s.Yb(),s.Yb()),2&e&&(s.Fb(1),s.Oc(t.vData.title),s.Fb(2),s.rc("formGroup",t.formReject),s.Fb(4),s.rc("ngModel",t.vData.Estado),s.Fb(2),s.rc("ngForOf",t.vData.statusData||s.tc(7,O)),s.Fb(6),s.rc("ngForOf",t.UsersStatus||s.tc(8,O)),s.Fb(8),s.rc("mat-dialog-close",t.formReject.value)("disabled",!t.formReject.valid))},directives:[c.h,c.e,l.x,l.q,l.j,b.c,b.g,u.a,l.v,l.p,l.h,d.m,m.b,l.c,c.c,f.b,c.d,p.n],styles:[""]}),F),A=["class","component"];function E(e,t){if(1&e&&(s.Zb(0,"mat-option",7),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.nombre),s.Fb(1),s.Oc(a.nombre)}}var I,P,S=function(){return[]},x=((I=function(){function e(t,a,i){_classCallCheck(this,e),this.dialogRef=t,this.data=a,this.fb=i,this.vData={},this.vData=this.data.vData,this.formConfirm=this.fb.group({Clasificacion:[null,l.w.compose([l.w.required])]})}return _createClass(e,[{key:"cancel",value:function(){this.dialogRef.close(!1)}},{key:"submit",value:function(e,t){this.dialogRef.close({estado:!0,Observacion:e,AsignadoA:t})}}]),e}()).\u0275fac=function(e){return new(e||I)(s.Tb(c.g),s.Tb(c.a),s.Tb(l.e))},I.\u0275cmp=s.Nb({type:I,selectors:[["ngx-dialog-confirm",8,"component"]],attrs:A,decls:15,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["required","","formControlName","Clasificacion"],["ClaisifacionId",""],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(e,t){1&e&&(s.Zb(0,"h2",0),s.Nc(1,"Clasifiaci\xf2n"),s.Yb(),s.Zb(2,"mat-dialog-content"),s.Zb(3,"form",1),s.Zb(4,"mat-form-field"),s.Zb(5,"mat-label"),s.Nc(6,"Seleccione una Clasifiaci\xf2n"),s.Yb(),s.Zb(7,"mat-select",2,3),s.Lc(9,E,2,2,"mat-option",4),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(10,"mat-dialog-actions"),s.Zb(11,"button",5),s.hc("click",(function(){return t.cancel()})),s.Nc(12,"Cancelar"),s.Yb(),s.Zb(13,"button",6),s.Nc(14,"Aceptar"),s.Yb(),s.Yb()),2&e&&(s.Fb(3),s.rc("formGroup",t.formConfirm),s.Fb(6),s.rc("ngForOf",t.vData.ClasificacionData||s.tc(4,S)),s.Fb(4),s.rc("mat-dialog-close",t.formConfirm.value)("disabled",!t.formConfirm.valid))},directives:[c.h,c.e,l.x,l.q,l.j,b.c,b.g,u.a,l.v,l.p,l.h,d.m,c.c,f.b,c.d,p.n],styles:[""]}),I),q=["class","component"],j=((P=function(){function e(t,a,i){_classCallCheck(this,e),this.dialogRef=t,this.data=a,this.fb=i,this.vData={},this.alive=!0;try{this.vData=this.data.vData,this.formSendMantenimiento=this.fb.group({id:null,Estado:[!0,l.w.compose([l.w.required])],evidencia:[null,l.w.compose([l.w.required])],NotaMantenimiento:"",tipodetrabajo:[null,l.w.compose([l.w.required])],ordenmantenimiento:["",l.w.compose([l.w.required])]})}catch(o){}}return _createClass(e,[{key:"cancel",value:function(){this.dialogRef.close(!1)}}]),e}()).\u0275fac=function(e){return new(e||P)(s.Tb(c.g),s.Tb(c.a),s.Tb(l.e))},P.\u0275cmp=s.Nb({type:P,selectors:[["ngx-dialog-confirm",8,"component"]],attrs:q,decls:9,vars:0,consts:[["mat-dialog-title",""],[1,"demo-full-width"],["matInput","","formControlName","NotaMantenimiento"]],template:function(e,t){1&e&&(s.Zb(0,"h2",0),s.Nc(1,"ESPACIO PARA ADMINISTRACI\xf3N DE MANTENIMIENTO"),s.Yb(),s.Zb(2,"mat-dialog-content"),s.Zb(3,"form"),s.Zb(4,"mat-form-field",1),s.Zb(5,"mat-label"),s.Nc(6,"Observaci\xf3n"),s.Yb(),s.Ub(7,"textarea",2),s.Yb(),s.Yb(),s.Yb(),s.Ub(8,"mat-dialog-actions"))},directives:[c.h,c.e,l.x,l.q,l.r,b.c,b.g,m.b,l.c,l.p,l.h,c.c],styles:[""]}),P),k=a("tgey"),T=a("XiUz"),w=a("Wp6s");function U(e,t){if(1&e&&(s.Zb(0,"h3",4),s.Nc(1),s.Yb()),2&e){var a=s.lc();s.Fb(1),s.Oc(a.OrderData.nombre)}}function L(e,t){if(1&e){var a=s.ac();s.Zb(0,"div",15),s.Zb(1,"button",11),s.hc("click",(function(){return s.Dc(a),s.lc(3).openOrderEspacioMantenimiento()})),s.Nc(2,"ESPACIO PARA ADMINISTRACION DE MANTENIMIENTO"),s.Yb(),s.Yb()}}function z(e,t){if(1&e){var a=s.ac();s.Zb(0,"div",16),s.Zb(1,"button",11),s.hc("click",(function(){return s.Dc(a),s.lc(3).openClasificacionConfirm()})),s.Nc(2,"Clasificar"),s.Yb(),s.Yb()}}function J(e,t){if(1&e){var a=s.ac();s.Zb(0,"div",9),s.Zb(1,"div",10),s.Zb(2,"button",11),s.hc("click",(function(){return s.Dc(a),s.lc(2).openOrderZMEJConfirm()})),s.Nc(3,"Aprobar"),s.Yb(),s.Yb(),s.Zb(4,"div",10),s.Zb(5,"button",12),s.hc("click",(function(){return s.Dc(a),s.lc(2).openOrderZMEJReject()})),s.Nc(6,"Rechazar"),s.Yb(),s.Yb(),s.Lc(7,L,3,0,"div",13),s.Lc(8,z,3,0,"div",14),s.Yb()}if(2&e){var i=s.lc(2);s.Fb(7),s.rc("ngIf",6==i.OrderData.estado),s.Fb(1),s.rc("ngIf",6==i.OrderData.estado)}}function G(e,t){if(1&e&&(s.Zb(0,"div"),s.Zb(1,"div",5),s.Zb(2,"div",6),s.Zb(3,"address"),s.Zb(4,"strong"),s.Nc(5,"# de la orden:"),s.Yb(),s.Ub(6,"br"),s.Nc(7),s.Ub(8,"br"),s.Yb(),s.Zb(9,"address"),s.Zb(10,"strong"),s.Nc(11,"Proponente:"),s.Yb(),s.Ub(12,"br"),s.Nc(13),s.Ub(14,"br"),s.Yb(),s.Zb(15,"address"),s.Zb(16,"strong"),s.Nc(17,"Asignado A:"),s.Yb(),s.Ub(18,"br"),s.Nc(19),s.Ub(20,"br"),s.Yb(),s.Zb(21,"address"),s.Zb(22,"strong"),s.Nc(23,"Jefe de L\xednea:"),s.Yb(),s.Ub(24,"br"),s.Nc(25),s.Ub(26,"br"),s.Yb(),s.Zb(27,"address"),s.Zb(28,"strong"),s.Nc(29,"Responsable Ejecutor:"),s.Yb(),s.Ub(30,"br"),s.Nc(31),s.Ub(32,"br"),s.Yb(),s.Yb(),s.Zb(33,"div",7),s.Zb(34,"address"),s.Zb(35,"strong"),s.Nc(36,"Estado de la Orden:"),s.Yb(),s.Ub(37,"br"),s.Nc(38),s.Ub(39,"br"),s.Yb(),s.Zb(40,"address"),s.Zb(41,"strong"),s.Nc(42,"Nombre del ET:"),s.Yb(),s.Ub(43,"br"),s.Nc(44),s.Ub(45,"br"),s.Yb(),s.Zb(46,"address"),s.Zb(47,"strong"),s.Nc(48,"Codigo Del Equipo:"),s.Yb(),s.Ub(49,"br"),s.Nc(50),s.Ub(51,"br"),s.Yb(),s.Zb(52,"address"),s.Zb(53,"strong"),s.Nc(54,"Descripcion del equipo:"),s.Yb(),s.Ub(55,"br"),s.Nc(56),s.Ub(57,"br"),s.Yb(),s.Zb(58,"address"),s.Zb(59,"strong"),s.Nc(60,"Descripcion Ubicaci\xf3n tecnica:"),s.Yb(),s.Ub(61,"br"),s.Nc(62),s.Ub(63,"br"),s.Yb(),s.Zb(64,"address"),s.Zb(65,"strong"),s.Nc(66,"Clasificaci\xf3n:"),s.Yb(),s.Ub(67,"br"),s.Nc(68),s.Ub(69,"br"),s.Yb(),s.Yb(),s.Yb(),s.Zb(70,"div",5),s.Zb(71,"div",6),s.Zb(72,"address"),s.Zb(73,"strong"),s.Nc(74,"Detalle:"),s.Yb(),s.Ub(75,"br"),s.Nc(76),s.Ub(77,"br"),s.Yb(),s.Zb(78,"address"),s.Zb(79,"strong"),s.Nc(80,"Costo planeado:"),s.Yb(),s.Ub(81,"br"),s.Nc(82),s.mc(83,"currency"),s.Ub(84,"br"),s.Yb(),s.Zb(85,"address"),s.Zb(86,"strong"),s.Nc(87,"Beneficio Cualitativo:"),s.Yb(),s.Ub(88,"br"),s.Nc(89),s.Ub(90,"br"),s.Yb(),s.Zb(91,"address"),s.Zb(92,"strong"),s.Nc(93,"Beneficio Cuantitativo $:"),s.Yb(),s.Ub(94,"br"),s.Nc(95),s.mc(96,"currency"),s.Ub(97,"br"),s.Yb(),s.Yb(),s.Zb(98,"div",7),s.Zb(99,"address"),s.Zb(100,"strong"),s.Nc(101,"Paso EI:"),s.Yb(),s.Ub(102,"br"),s.Nc(103),s.Ub(104,"br"),s.Yb(),s.Zb(105,"address"),s.Zb(106,"strong"),s.Nc(107,"Norma de liquidaci\xf2n:"),s.Yb(),s.Ub(108,"br"),s.Nc(109),s.Ub(110,"br"),s.Yb(),s.Zb(111,"address"),s.Zb(112,"strong"),s.Nc(113,"Clase de actividad:"),s.Yb(),s.Ub(114,"br"),s.Nc(115),s.Ub(116,"br"),s.Ub(117,"br"),s.Yb(),s.Zb(118,"address"),s.Zb(119,"strong"),s.Nc(120,"Fecha inicio y fin de la mejora:"),s.Yb(),s.Ub(121,"br"),s.Nc(122),s.mc(123,"date"),s.Zb(124,"b"),s.Nc(125,"-"),s.Yb(),s.Nc(126),s.mc(127,"date"),s.Ub(128,"br"),s.Ub(129,"br"),s.Yb(),s.Yb(),s.Yb(),s.Lc(130,J,9,2,"div",8),s.Ub(131,"div",9),s.Yb()),2&e){var a=s.lc();s.Fb(7),s.Pc(" ",a.OrderData.ordenMantenimiento,""),s.Fb(6),s.Pc(" ",a.OrderData.nombreProponente,""),s.Fb(6),s.Pc(" ",a.OrderData.nombreAsignado,""),s.Fb(6),s.Pc(" ",a.OrderData.responsableDelPuestoDetrabajo,""),s.Fb(6),s.Pc(" ",a.OrderData.responsableEjecutor,""),s.Fb(7),s.Pc(" ",a.OrderData.nombreEstado," "),s.Fb(6),s.Pc(" ",a.OrderData.nombreDelPet," "),s.Fb(6),s.Pc(" ",a.OrderData.codigoDelEquipo," "),s.Fb(6),s.Pc(" ",a.OrderData.descripcionDelEquipo,""),s.Fb(6),s.Pc(" ",a.OrderData.ubicacionTecnica,""),s.Fb(6),s.Pc(" ",a.OrderData.nombreClasificacion,""),s.Fb(8),s.Pc(" ",a.OrderData.descripcion,""),s.Fb(6),s.Pc(" ",s.oc(83,21,a.OrderData.costoPlaneado,"COP"),""),s.Fb(7),s.Pc(" ",a.OrderData.beneficioCualitativo,""),s.Fb(6),s.Pc(" ",s.oc(96,24,a.OrderData.beneficioCuantitativo,"COP"),""),s.Fb(8),s.Pc(" ",a.OrderData.pasoTPM,""),s.Fb(6),s.Pc(" ",a.OrderData.codigoNormaDeLiquidacion,""),s.Fb(6),s.Pc(" ",a.OrderData.nombreClaseActividad,""),s.Fb(7),s.Pc(" ",s.oc(123,27,a.OrderData.fechaInicio,"dd/MM/yyyy")," "),s.Fb(4),s.Pc(" ",s.oc(127,30,a.OrderData.fechaFin,"dd/MM/yyyy")," "),s.Fb(4),s.rc("ngIf",a.OrderData.estado<6&&1==a.OrderData.puedeAprobar)}}var R,_=((R=function(){function e(t,a,i,o,r){_classCallCheck(this,e),this.route=t,this.authService=a,this.authorizationService=i,this._router=o,this.dialog=r,this.OrderData={},this.UsersStatus=[],this.StatusData=[],this.alive=!0,this.loading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;try{this.route.paramMap.subscribe((function(t){e.getOrderZMEJjById(t.get("id"))}))}catch(t){console.log(t)}}},{key:"getOrderZMEJjById",value:function(e){var t=this;try{this.loading=!0,this.authorizationService.get("api/OrderZMEJ/OrderDetails/"+e).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){t.loading=!1,t.OrderData=e.body,t.GetAllLowStatusCode(),t.GetAllUserByStatusCode(),t.GetAllClasificacion()}))}catch(a){this.loading=!1,console.log(a)}}},{key:"GetAllClasificacion",value:function(){var e=this;try{this.authorizationService.get("ZMEJ.api/clasificacion/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ClasificacionData=t.body}))}catch(t){console.log(t)}}},{key:"GetAllLowStatusCode",value:function(){var e=this;try{this.loading=!0,this.UsersStatus=[],this.authorizationService.get("ZMEJ.api/StatusCode/getAllLow/"+this.OrderData.estado).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.StatusData=t.body,e.loading=!1}),(function(t){e.loading=!1}))}catch(t){this.loading=!1}}},{key:"GetAllUserByStatusCode",value:function(){var e=this;try{this.loading=!0,this.UsersStatus=[],this.authorizationService.get("api/RoleStatusCode/getUserByCode/"+(this.OrderData.estado+1)+"/"+Y.a.aplicationId).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.UsersStatus=t.body,e.loading=!1}),(function(t){e.loading=!1}))}catch(t){this.loading=!1}}},{key:"openOrderZMEJConfirm",value:function(e){var t=this;this.dialog.open(C,{width:"500px",data:{vData:{title:"Aprobar la orden: "+this.OrderData.nombre,usersStatus:this.UsersStatus,AsignadoA:"",observacion:""}}}).afterClosed().subscribe((function(e){e&&(e.id=t.OrderData.id,t.SendOrderZMEJAproved(e))}))}},{key:"openClasificacionConfirm",value:function(e){var t=this;this.dialog.open(x,{width:"500px",data:{vData:{title:"Asignar clasificaci\xf3n: "+this.OrderData.nombre,ClasificacionData:this.ClasificacionData}}}).afterClosed().subscribe((function(e){e&&(e.id=t.OrderData.id,t.SendClasificacionZMEJ(e))}))}},{key:"openOrderEspacioMantenimiento",value:function(){var e=this;this.dialog.open(j,{width:"500px",data:{vData:{id:"",evidencia:"",ordenmantenimiento:"0",tipodetrabajo:"",nota:""}}}).afterClosed().subscribe((function(t){t&&(t.id=e.OrderData.id,e.SendEspacioMantenimiento(t))}))}},{key:"openOrderZMEJReject",value:function(){var e=this;this.dialog.open(M,{width:"500px",data:{vData:{title:"Rechazar la orden: "+this.OrderData.nombre,usersStatus:[],Estado:"",statusData:this.StatusData,AsignadoA:"",observacion:""}}}).afterClosed().subscribe((function(t){t&&(t.id=e.OrderData.id,e.SendOrderZMEJReject(t))}))}},{key:"SendOrderZMEJReject",value:function(e){var t=this;try{this.authorizationService.post("api/OrderZMEJ/reject",e).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){200==e.status?t.getOrderZMEJjById(t.OrderData.id):console.log(e.error)}),(function(e){}))}catch(a){}}},{key:"SendOrderZMEJAproved",value:function(e){var t=this;try{this.loading=!0,this.authorizationService.post("api/OrderZMEJ/aproved",e).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){200==e.status?t.getOrderZMEJjById(t.OrderData.id):(t.loading=!1,console.log(e.error))}),(function(e){t.loading=!1}))}catch(a){this.loading=!1}}},{key:"SendClasificacionZMEJ",value:function(e){var t=this;try{this.loading=!0,this.authorizationService.post("ZMEJ.api/OrderZMEJ/classification",e).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){}),(function(e){t.loading=!1}))}catch(a){this.loading=!1}}},{key:"SendEspacioMantenimiento",value:function(e){var t=this;try{this.authorizationService.put("ZMEJ.api/OrderZMEJ/UpdateOM",e).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){console.log(e),200==e.status?t.getOrderZMEJjById(t.OrderData.id):console.log(e.error)}),(function(e){}))}catch(a){}}},{key:"LoadingAnimation",value:function(){var e=this;this.loading=!0,setTimeout((function(){return e.loading=!1}),3e3)}}]),e}()).\u0275fac=function(e){return new(e||R)(s.Tb(o.a),s.Tb(n.b),s.Tb(n.c),s.Tb(o.f),s.Tb(c.b))},R.\u0275cmp=s.Nb({type:R,selectors:[["ngx-orderzmej"]],decls:9,vars:2,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],["class","pull-right",4,"ngIf"],[4,"ngIf"],[1,"pull-right"],[1,"row"],[1,"col-md-6","col-xxxl-4"],[1,"col-md-6","col-xxxl-4","text-right"],["class","buttons-row",4,"ngIf"],[1,"buttons-row"],["fxFlex","10","fxFlex.lt-sm","100"],["mat-raised-button","","color","primary",1,"m-t-8",3,"click"],["mat-raised-button","","color","warn",1,"m-t-8",3,"click"],["fxFlex","50","fxFlex.lt-sm","100",4,"ngIf"],["fxFlex","20","fxFlex.lt-sm","100",4,"ngIf"],["fxFlex","50","fxFlex.lt-sm","100"],["fxFlex","20","fxFlex.lt-sm","100"]],template:function(e,t){1&e&&(s.Ub(0,"page-header"),s.Zb(1,"div",0),s.Zb(2,"div",1),s.Zb(3,"mat-card"),s.Zb(4,"mat-card-title"),s.Zb(5,"h2"),s.Nc(6,"Detalle de la orden: \xa0\xa0"),s.Yb(),s.Lc(7,U,2,1,"h3",2),s.Yb(),s.Lc(8,G,132,33,"div",3),s.Yb(),s.Yb(),s.Yb()),2&e&&(s.Fb(7),s.rc("ngIf",t.OrderData&&null!=t.OrderData),s.Fb(1),s.rc("ngIf",t.OrderData&&null!=t.OrderData&&0==t.loading))},directives:[k.a,T.c,T.a,w.a,w.c,d.n,f.b],pipes:[d.d,d.f],styles:[".name[_ngcontent-%COMP%]{font-size:30px;border-bottom:2px solid #888;margin-bottom:20px}.name[_ngcontent-%COMP%]:first-letter{font-size:300%}.label[_ngcontent-%COMP%]{width:70px;font-weight:700}.email[_ngcontent-%COMP%], .label[_ngcontent-%COMP%], .mobile[_ngcontent-%COMP%], .phone[_ngcontent-%COMP%]{display:inline-block}.details-td[_ngcontent-%COMP%]{border-right:1px solid #eee;white-space:nowrap;padding:20px 30px 20px 20px}.description-td[_ngcontent-%COMP%]{position:relative;width:100%;padding:20px 30px;text-align:justify;margin-top:15px}.description[_ngcontent-%COMP%]{outline:0 solid transparent;border:0 solid transparent}.edit[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:13px;height:13px;cursor:pointer}.invoice-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoice-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-top:none}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-bottom:none}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .thick-line[_ngcontent-%COMP%]{border-top:2px solid}form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}"]}),R),B=a("M0ag"),V=a("hGDI");function $(e,t){if(1&e&&(s.Zb(0,"mat-option",8),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.sc("value",a.code),s.Fb(1),s.Oc(a.name)}}var H,K,Q,X=function(){return[5,10,20]},W=((H=function(){function e(t,a,i,o,r,n,c){var l=this;_classCallCheck(this,e),this.authService=t,this.authorizationService=a,this.pagerService=i,this.datePipe=o,this.currencyPipe=r,this._router=n,this.cdr=c,this.FlujoData=[],this.columnNames=["Clasificacion","Valor"],this.isAuthenticated=!1,this.alive=!0,this.columns=[{header:"Orden",field:"ordenMantenimiento",width:"100px"},{header:"Nombre",field:"Nombre",formatter:function(e){return'<span class="sortable" (click)="viewOrderzmejDetail('.concat(e.id,')">').concat(e.nombre,"</span>")}},{header:"ET",field:"nombreDelPet"},{header:"Costo Real",field:"costoReal",formatter:function(e){return""+l.currencyPipe.transform(e.costoReal,"","symbol","1.0-0")}},{header:"Costo Planeado",field:"costoPlaneado",formatter:function(e){return""+l.currencyPipe.transform(e.costoPlaneado,"","symbol","1.0-0")}},{header:"Costo Comprometido",field:"valComprometido",formatter:function(e){return""+l.currencyPipe.transform(e.valComprometido,"","symbol","1.0-0")}},{header:"Estado",field:"nombreEstado"},{header:"Clasificaci\xf3n",field:"nombreClasificacion"},{header:"Fecha de inicio",field:"fechaInicio",formatter:function(e){return""+l.datePipe.transform(e.fechaInicio,"dd/MM/yyyy")}},{header:"codigo del equipo",field:"codigoDelEquipo"},{header:"Descripcion del equipo",field:"descripcionDelEquipo"},{header:"Option",field:"option",width:"120px",pinned:"right",right:"0px",type:"button",buttons:[{type:"icon",text:"Ver detalle",icon:"visibility",tooltip:"Ver detalle",click:function(e){return l.viewOrderzmejDetail(e)}},{icon:"edit",tooltip:"Editar",type:"icon",click:function(e){return l.EditOrderzmejDetail(e)}}]}],this.List=[],this.total=0,this.isLoading=!0,this.query={q:"",sort:"stars",name:"0",page:0,per_page:10},this.isAuthenticated=!0,this.GetAllOrderZMEJ(),this.GetAllStatusCode(),t.isLoggedIn()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getNextPage",value:function(e){this.query.page=e.pageIndex,this.query.per_page=e.pageSize,this.setPage()}},{key:"GetAllOrderZMEJ",value:function(){var e=this;try{this.List=[],this.total=0,this.authorizationService.get("zmej.api/OrderZMEJ/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.OrderData=t.body,null!=e.OrderData&&(e.setPage(),e.total=e.OrderData.length,e.cdr.detectChanges()),e.isLoading=!1}))}catch(t){console.log(t)}}},{key:"addOrderzmej",value:function(e){null==e&&this._router.navigate(["/ordenes/create-zmej"])}},{key:"viewOrderzmejDetail",value:function(e){console.log(e),null!=e&&this._router.navigate(["/ordenes/order-zmej-details/"+e.id])}},{key:"EditOrderzmejDetail",value:function(e){null!=e&&this._router.navigate(["/ordenes/edit-zmej/"+e.id])}},{key:"GetAllStatusCode",value:function(){var e=this;try{this.authorizationService.get("zmej.api/statuscode/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.FlujoData=t.body}))}catch(t){console.log(t)}}},{key:"setPage",value:function(){var e=this.pagerService.getPager(this.OrderData.length,this.query.page+1,this.query.per_page);this.List=this.OrderData.slice(e.startIndex,e.endIndex+1)}},{key:"search",value:function(){var e=this;this.query.page=0,console.log(this.query),console.log(this.params);try{this.List=[],this.authorizationService.post("zmej.api/OrderZMEJ/FilterOrder",{Name:this.query.q,id:this.query.name}).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.OrderData=t.body,null!=e.OrderData&&(e.setPage(),e.total=e.OrderData.length,e.cdr.detectChanges()),e.isLoading=!1}))}catch(t){this.List=[],console.log(t)}}},{key:"params",get:function(){var e=Object.assign({},this.query);return e.page+=1,Object(B.a)(e)}}]),e}()).\u0275fac=function(e){return new(e||H)(s.Tb(n.b),s.Tb(n.c),s.Tb(n.f),s.Tb(d.f),s.Tb(d.d),s.Tb(o.f),s.Tb(s.h))},H.\u0275cmp=s.Nb({type:H,selectors:[["ngx-orderzmej"]],decls:13,vars:12,consts:[[1,"bg-blue-600"],[1,"m-r-8"],["matInput","","name","q","placeholder","Buscar por nombre",3,"ngModel","ngModelChange"],["name","order","placeholder","Filtrar por estado",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"m-r-8",3,"click"],[3,"data","columns","length","loading","pageOnFront","pageIndex","pageSize","pageSizeOptions","page"],[3,"value"]],template:function(e,t){1&e&&(s.Ub(0,"page-header",0),s.Zb(1,"form"),s.Zb(2,"mat-form-field",1),s.Zb(3,"input",2),s.hc("ngModelChange",(function(e){return t.query.q=e})),s.Yb(),s.Yb(),s.Zb(4,"mat-form-field",1),s.Zb(5,"mat-select",3),s.hc("ngModelChange",(function(e){return t.query.name=e})),s.Ub(6,"mat-option",4),s.Lc(7,$,2,2,"mat-option",5),s.Yb(),s.Yb(),s.Zb(8,"button",6),s.hc("click",(function(){return t.search()})),s.Nc(9,"Buscar"),s.Yb(),s.Zb(10,"button",6),s.hc("click",(function(){return t.addOrderzmej(null)})),s.Nc(11,"Crear nueva orden"),s.Yb(),s.Yb(),s.Zb(12,"mtx-grid",7),s.hc("page",(function(e){return t.getNextPage(e)})),s.Yb()),2&e&&(s.Fb(3),s.rc("ngModel",t.query.q),s.Fb(2),s.rc("ngModel",t.query.name),s.Fb(2),s.rc("ngForOf",t.FlujoData),s.Fb(5),s.rc("data",t.List)("columns",t.columns)("length",t.total)("loading",t.isLoading)("pageOnFront",!1)("pageIndex",t.query.page)("pageSize",t.query.per_page)("pageSizeOptions",s.tc(11,X)))},directives:[k.a,l.x,l.q,l.r,b.c,m.b,l.c,l.p,l.s,u.a,p.n,d.m,f.b,V.a],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),H),ee=a("ihCf"),te=a("YKwE"),ae=((Q=function(){function e(t,a,i,o){_classCallCheck(this,e),this.el=t,this.currencyPipe=a,this.renderer=i,this.locale=o,this.currencyCode="USD",this.allowNegative=!1,this.regex={positiveDecimal:new RegExp(/^\d*[\.|,]?\d*$/g),allDecimal:new RegExp(/^-?\d*[\.|,]?\d*$/g)},this.specialKeys=["Backspace","Delete","ArrowLeft","ArrowRight","Del"]}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.el.nativeElement.value=this.currencyPipe.transform(this.el.nativeElement.value,this.currencyCode)}},{key:"onFocus",value:function(){this.el.nativeElement.value=this.el.nativeElement.value.replace(/[^\d.,-]/g,""),this.el.nativeElement.select()}},{key:"onFocusout",value:function(){var e=this.el.nativeElement.value;(0===e.length||1===e.length&&[",",".",""].indexOf(e[0])>-1)&&(e="0"),this.el.nativeElement.value=this.currencyPipe.transform(e,this.currencyCode)}},{key:"onKeyDown",value:function(e){-1===this.specialKeys.indexOf(e.key)&&(e.key.match(this.allowNegative?this.regex.allDecimal:this.regex.positiveDecimal)||e.preventDefault())}},{key:"onBlur",value:function(e){var t,a,i,o,r,n,c=(t=this.el.nativeElement.value,a=this.locale,i=new Intl.NumberFormat(a).format(1111).replace(/1/g,""),o=new Intl.NumberFormat(a).format(1.1).replace(/1/g,""),r=t.replace(new RegExp("\\"+i,"g"),""),n=(r=r.replace(new RegExp("\\"+o,"g"),".")).replace(/[^\d.-]/g,""),Number.isNaN(n)?0:n).replace(/^[^0-9]{2}..*/g,"");this.el.nativeElement.value=c}}]),e}()).\u0275fac=function(e){return new(e||Q)(s.Tb(s.l),s.Tb(d.d),s.Tb(s.G),s.Tb(s.w))},Q.\u0275dir=s.Ob({type:Q,selectors:[["","mvndrMatCurrencyFormat",""]],hostBindings:function(e,t){1&e&&s.hc("focus",(function(){return t.onFocus()}))("focusout",(function(){return t.onFocusout()}))("keydown",(function(e){return t.onKeyDown(e)}))("blur",(function(){return t.onBlur()}))},inputs:{currencyCode:"currencyCode",allowNegative:"allowNegative"},features:[s.Eb([d.d])]}),Q),ie=((K=function e(){_classCallCheck(this,e)}).\u0275mod=s.Rb({type:K}),K.\u0275inj=s.Qb({factory:function(e){return new(e||K)},imports:[[]]}),K),oe=a("iadO"),re=a("bSwM");function ne(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"ingrese un nombre "),s.Yb())}function ce(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"ingrese un nombre "),s.Yb())}function le(e,t){if(1&e&&(s.Zb(0,"mat-option",52),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.sc("value",a.id),s.Fb(1),s.Oc(a.fullName)}}function se(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"seleccione un proponente "),s.Yb())}function be(e,t){if(1&e&&(s.Zb(0,"mat-option",52),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.sc("value",a.id),s.Fb(1),s.Oc(a.fullName)}}function ue(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione una persona"),s.Yb())}function de(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione un pet "),s.Yb())}function me(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione un paso tpm "),s.Yb())}function fe(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione un responsable "),s.Yb())}function pe(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"este campo es requerido"),s.Yb())}function he(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione un equipo "),s.Yb())}function ge(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"selecione una opcion "),s.Yb())}function ve(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"ingrese un nombre "),s.Yb())}function Ze(e,t){if(1&e&&(s.Zb(0,"mat-option",52),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.sc("value",a.id),s.Fb(1),s.Oc(a.nombre)}}function Ce(e,t){1&e&&s.Ub(0,"mat-error")}function Ye(e,t){1&e&&s.Ub(0,"mat-error")}function Ne(e,t){1&e&&s.Ub(0,"mat-error")}function ye(e,t){1&e&&s.Ub(0,"mat-error")}function De(e,t){1&e&&s.Ub(0,"mat-error")}function Fe(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione una fecha "),s.Yb())}function Oe(e,t){if(1&e&&(s.Zb(0,"mat-option",52),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Fb(1),s.Oc(a.descripcion)}}function Me(e,t){if(1&e&&(s.Zb(0,"mat-option",52),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Fb(1),s.Oc(a.descripcion)}}function Ae(e,t){if(1&e&&(s.Zb(0,"mat-option",52),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Fb(1),s.Oc(a.nombre)}}function Ee(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione una clasifica\xf3n"),s.Yb())}function Ie(e,t){if(1&e&&(s.Zb(0,"li",56),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.Fb(1),s.Oc(a)}}function Pe(e,t){if(1&e&&(s.Zb(0,"div",53),s.Zb(1,"ul",54),s.Lc(2,Ie,2,1,"li",55),s.Yb(),s.Yb()),2&e){var a=s.lc();s.Fb(2),s.rc("ngForOf",a.errors)}}var Se,xe=function(){return[]},qe=((Se=function(){function e(t,a,i,o,r){_classCallCheck(this,e),this.fb=t,this.authService=a,this.authorizationService=i,this.router=o,this.dateAdapter=r,this.isAuthenticated=!1,this.orderZMEJ={},this.errors=[],this.showMessages={},this.NormaDeLiquidacionData=[],this.maquinasData=[],this.ubcacionTecnicaData=[],this.submitted=!1,this.alive=!0,this.ubicacionTecnica="",this.codigoDelEquipo="",this.costoTotal=0,this.LineaData=[],this.HornoData=[],this.vHornoResultData=[],this.ClasificacionData=[],this.usAmount=0,this.dateAdapter.setLocale("en-GB"),this.showMessages={success:!0,error:!0},this.reactiveForm2=this.fb.group({nombre:["",[l.w.required]],descripcion:["",[l.w.required]],proponente:["",[l.w.required]],AsignadoA:["",[l.w.required]],nombreDelPet:["",[l.w.required]],pasoTPM:["",[l.w.required]],responsableDelPuestoDetrabajo:["",[l.w.required]],responsableEjecutor:["",[l.w.required]],codigoDelEquipo:["",[l.w.required]],descripcionDelEquipo:[""],ubicacionTecnica:["",[l.w.required]],descripcionDeUbicacionTecnica:[""],NormaDeLiquidacionId:["1"],CodigoNormaDeLiquidacion:["",[l.w.required]],claseDeActividadID:["",[l.w.required]],costomaterial:["0"],costomanodeobra:["0"],costoservicios:["0"],beneficioCualitativo:[""],beneficioCuantitativo:[0,[l.w.required]],duraciondelTrabajo:["0",[l.w.required]],fechaInicio:["",[l.w.required]],pregunta1:"",pregunta2:"",pregunta3:"",linea:"",horno:"",clasificacion:0,enviarCorreo:!1}),a.isLoggedIn()&&(this.isAuthenticated=!0,this.GetAllClaseDeActividad(),this.GetAllNormaDeLiquidacion(),this.GetAllUserValidador(),this.GetAllProponente(),this.GetAllMaquinas(),this.GetAllPets(),this.GetAllPuestoDeTrabajos(),this.GetAllUbicacionTecnica(),this.GetAllGrupoPlanificador(),this.GetAllResCrontrolProd(),this.GetAllClasificacion())}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"GetAllGrupoPlanificador",value:function(){var e=this;this.authorizationService.get("zmej.api/grupoPlanificador/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.HornoData=t.body}),(function(e){}))}},{key:"GetAllClasificacion",value:function(){var e=this;try{this.authorizationService.get("ZMEJ.api/clasificacion/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ClasificacionData=t.body}))}catch(t){console.log(t)}}},{key:"GetAllResCrontrolProd",value:function(){var e=this;this.authorizationService.get("zmej.api/resctrlproduccion/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.LineaData=t.body}),(function(e){}))}},{key:"GetAllUserValidador",value:function(){var e=this;try{this.authorizationService.get("api/RoleStatusCode/getUserByCode/2/"+Y.a.aplicationId).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.UsersStatus=t.body}),(function(e){}))}catch(t){}}},{key:"GetAllProponente",value:function(){var e=this;this.authorizationService.get("api/RoleStatusCode/getUserByCode/1/"+Y.a.aplicationId).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.UsersStatusProponente=t.body}),(function(e){}))}},{key:"GetAllNormaDeLiquidacion",value:function(){var e=this;this.authorizationService.get("ZMEJ.api/NormaDeLiquidacion/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.NormaDeLiquidacionData=t.body}),(function(e){}))}},{key:"GetAllClaseDeActividad",value:function(){var e=this;this.authorizationService.get("ZMEJ.api/ClaseDeActividad/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ClaseDeActividad=t.body}),(function(e){}))}},{key:"GetAllPets",value:function(){var e=this;this.authorizationService.get("maestrassip.api/pets/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.petsData=t.body}),(function(e){}))}},{key:"GetAllMaquinas",value:function(){var e=this;this.maquinasData=[],this.authorizationService.get("zmej.api/maquinas/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.maquinasData=t.body}),(function(e){}))}},{key:"GetAllUbicacionTecnica",value:function(){var e=this;this.authorizationService.get("zmej.api/ubicacionTecnica/getallactive").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ubcacionTecnicaData=t.body}),(function(e){}))}},{key:"GetAllPuestoDeTrabajos",value:function(){var e=this;this.authorizationService.get("zmej.api/puestodetrabajo/getallactive").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.puestodetrabajoData=t.body}),(function(e){}))}},{key:"onSubmitOrderzmej",value:function(){var e=this;this.errors=[],this.messages=[],this.submitted=!0;try{this.authorizationService.post("api/OrderZMEJ/save",this.reactiveForm2.value).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){200==t.status?(e.messages[0]="datos guardados correctamente",setTimeout((function(){return e.router.navigateByUrl("/ordenes/zmej")}),e.redirectDelay)):(e.submitted=!1,e.errors[0]=t.error,console.log(t.error))}),(function(t){e.submitted=!1,e.errors=t}))}catch(t){console.log(t),this.submitted=!1}}},{key:"onChangeUbicacion",value:function(e){try{this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue("");var t=this.ubcacionTecnicaData.filter((function(t){return t.ubicacion===e}));null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue(t[0].descripcion))}catch(a){console.log("error en ubicacion tecnica")}}},{key:"onChangeMaquina",value:function(e){try{this.reactiveForm2.controls.descripcionDelEquipo.setValue("");var t=this.maquinasData.filter((function(t){return t.maquina===e}));null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDelEquipo.setValue(t[0].descripcion))}catch(a){console.log("error en onChangeMaquina ")}}},{key:"onChangeLinea",value:function(e){try{this.reactiveForm2.controls.horno.setValue(""),this.vHornoResultData=this.HornoData.filter((function(t){return t.resControlProdId===e}))}catch(t){}}},{key:"changeCosto",value:function(e){try{var t=this.reactiveForm2.get("costoservicios"),a=this.reactiveForm2.get("costomanodeobra"),i=this.reactiveForm2.get("costomaterial");this.costoTotal=+t.value+ +a.value+ +i.value}catch(o){}}},{key:"updateUSAmount",value:function(e){this.usAmount=e.target.value}},{key:"setDate",value:function(){try{var e=this.reactiveForm2.get("fechaInicio").value,t=+this.reactiveForm2.get("duraciondelTrabajo").value,a=new Date(e);this.fechaFinal=this.addDays(a,t)}catch(i){}}},{key:"addDays",value:function(e,t){return e.setDate(e.getDate()+t),e}},{key:"addEvent",value:function(e,t){this.setDate()}}]),e}()).\u0275fac=function(e){return new(e||Se)(s.Tb(l.e),s.Tb(n.b),s.Tb(n.c),s.Tb(o.f),s.Tb(p.c))},Se.\u0275cmp=s.Nb({type:Se,selectors:[["ngx-orderzmej"]],decls:205,vars:55,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],[1,"form-field-full",3,"formGroup","ngSubmit"],["form","ngForm"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],["matInput","","placeholder","nombre de la propuesta","formControlName","nombre","required",""],[4,"ngIf"],["matInput","","cdkTextareaAutosize","","formControlName","descripcion","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["required","","formControlName","proponente","required",""],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","AsignadoA","required",""],["bindLabel","descripcion","bindValue","descripcion","autofocus","","formControlName","nombreDelPet",3,"items"],["required","","formControlName","pasoTPM","required",""],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["bindLabel","fullDescripcion","bindValue","fullDescripcion","autofocus","","formControlName","responsableDelPuestoDetrabajo",3,"items"],["matInput","","placeholder","Simple placeholder","type","text","formControlName","responsableEjecutor","required",""],["bindLabel","fullDescripcion","bindValue","maquina","autofocus","","formControlName","codigoDelEquipo",3,"items","ngModelChange"],["bindLabel","fullDescripcion","o","","bindValue","fullDescripcion","autofocus","","formControlName","ubicacionTecnica",3,"items","ngModel","ngModelChange"],["matInput","","placeholder","nombre","formControlName","CodigoNormaDeLiquidacion","required",""],["required","","formControlName","claseDeActividadID","required",""],["fxFlex","20","fxFlex.lt-sm","100"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomaterial","mvndrMatCurrencyFormat","","required","",3,"allowNegative","currencyCode","change"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomanodeobra","mvndrMatCurrencyFormat","","required","",3,"allowNegative","currencyCode","change"],["matInput","","placeholder","Costo Material","type","text","formControlName","costoservicios","mvndrMatCurrencyFormat","","required","",3,"allowNegative","currencyCode","change"],["matInput","","mvndrMatCurrencyFormat","","readonly","",3,"value","allowNegative","currencyCode"],["fxFlex","33.3","fxFlex.lt-sm","100"],["formControlName","pregunta1"],["value","Si"],["value","No"],["formControlName","pregunta2"],["formControlName","pregunta3"],["matInput","","cdkTextareaAutosize","","formControlName","beneficioCualitativo","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["matInput","","placeholder","beneficioCuantitativo","type","text","mvndrMatCurrencyFormat","","formControlName","beneficioCuantitativo","required","",3,"allowNegative","currencyCode"],["matInput","","placeholder","","formControlName","duraciondelTrabajo","required","",3,"change"],["matInput","","placeholder","Fecha de inicio","formControlName","fechaInicio",3,"matDatepicker","change","dateChange"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","",3,"value"],["formControlName","linea",3,"ngModelChange"],["formControlName","horno"],["formControlName","clasificacion"],["id","amateur","color","primary","formControlName","enviarCorreo",1,"amateur"],["mat-raised-button","","color","primary",1,"m-t-8",3,"disabled"],["class","m-t-16","outline","danger",4,"ngIf"],[3,"value"],["outline","danger",1,"m-t-16"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"]],template:function(e,t){if(1&e&&(s.Ub(0,"page-header"),s.Zb(1,"div",0),s.Zb(2,"div",1),s.Zb(3,"mat-card"),s.Zb(4,"mat-card-title"),s.Nc(5,"Crear Orden"),s.Yb(),s.Zb(6,"form",2,3),s.hc("ngSubmit",(function(){return t.onSubmitOrderzmej()})),s.Zb(8,"div",4),s.Zb(9,"div",5),s.Zb(10,"mat-form-field"),s.Zb(11,"mat-label"),s.Nc(12,"NOMBRE DE LA PROPUESTA"),s.Yb(),s.Ub(13,"input",6),s.Lc(14,ne,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(15,"div",5),s.Zb(16,"mat-form-field"),s.Zb(17,"mat-label"),s.Nc(18,"DESCRIPCION DETALLADA DE LA PROPUESTA"),s.Yb(),s.Ub(19,"textarea",8),s.Lc(20,ce,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(21,"div",5),s.Zb(22,"mat-form-field"),s.Zb(23,"mat-label"),s.Nc(24,"PROPONENTE"),s.Yb(),s.Zb(25,"mat-select",9),s.Lc(26,le,2,2,"mat-option",10),s.Yb(),s.Lc(27,se,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(28,"div",5),s.Zb(29,"mat-form-field"),s.Zb(30,"mat-label"),s.Nc(31,"JEFE DE MANTENIMIENTO"),s.Yb(),s.Zb(32,"mat-select",11),s.Lc(33,be,2,2,"mat-option",10),s.Yb(),s.Lc(34,ue,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(35,"div",5),s.Zb(36,"mat-form-field"),s.Zb(37,"mat-label"),s.Nc(38,"Nombre ET"),s.Yb(),s.Ub(39,"mtx-select",12),s.Lc(40,de,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(41,"div",5),s.Zb(42,"mat-form-field"),s.Zb(43,"mat-label"),s.Nc(44,"PASO TPM"),s.Yb(),s.Zb(45,"mat-select",13),s.Zb(46,"mat-option",14),s.Nc(47,"0"),s.Yb(),s.Zb(48,"mat-option",15),s.Nc(49,"1"),s.Yb(),s.Zb(50,"mat-option",16),s.Nc(51,"2"),s.Yb(),s.Zb(52,"mat-option",17),s.Nc(53,"3"),s.Yb(),s.Zb(54,"mat-option",18),s.Nc(55,"4"),s.Yb(),s.Zb(56,"mat-option",19),s.Nc(57,"5"),s.Yb(),s.Zb(58,"mat-option",20),s.Nc(59,"6"),s.Yb(),s.Zb(60,"mat-option",21),s.Nc(61,"7"),s.Yb(),s.Yb(),s.Lc(62,me,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(63,"div",5),s.Zb(64,"mat-form-field"),s.Zb(65,"mat-label"),s.Nc(66,"JEFE DE L\xcdNEA"),s.Yb(),s.Ub(67,"mtx-select",22),s.Lc(68,fe,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(69,"div",5),s.Zb(70,"mat-form-field"),s.Zb(71,"mat-label"),s.Nc(72,"RESPONSABLE DE EJECUTAR"),s.Yb(),s.Ub(73,"input",23),s.Lc(74,pe,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(75,"div",5),s.Zb(76,"mat-form-field"),s.Zb(77,"mat-label"),s.Nc(78,"CODIGO DEL EQUIPO"),s.Yb(),s.Zb(79,"mtx-select",24),s.hc("ngModelChange",(function(e){return t.onChangeMaquina(e)})),s.Yb(),s.Lc(80,he,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(81,"div",5),s.Zb(82,"mat-form-field"),s.Zb(83,"mat-label"),s.Nc(84,"UBICACI\xd3N TECNICA"),s.Yb(),s.Zb(85,"mtx-select",25),s.hc("ngModelChange",(function(e){return t.onChangeUbicacion(e)}))("ngModelChange",(function(e){return t.ubicacionTecnica=e})),s.Yb(),s.Lc(86,ge,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(87,"div",5),s.Zb(88,"mat-form-field"),s.Zb(89,"mat-label"),s.Nc(90,"# CeCo"),s.Yb(),s.Ub(91,"input",26),s.Lc(92,ve,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(93,"div",5),s.Zb(94,"mat-form-field"),s.Zb(95,"mat-label"),s.Nc(96,"CLASE DE ACTIVIDAD"),s.Yb(),s.Zb(97,"mat-select",27),s.Lc(98,Ze,2,2,"mat-option",10),s.Yb(),s.Lc(99,Ce,1,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(100,"div",28),s.Zb(101,"mat-form-field"),s.Zb(102,"mat-label"),s.Nc(103,"Costo Material"),s.Yb(),s.Zb(104,"input",29),s.hc("change",(function(e){return t.changeCosto(e)})),s.Yb(),s.Lc(105,Ye,1,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(106,"div",28),s.Zb(107,"mat-form-field"),s.Zb(108,"mat-label"),s.Nc(109,"Costo Mano de Obra"),s.Yb(),s.Zb(110,"input",30),s.hc("change",(function(e){return t.changeCosto(e)})),s.Yb(),s.Lc(111,Ne,1,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(112,"div",28),s.Zb(113,"mat-form-field"),s.Zb(114,"mat-label"),s.Nc(115,"Costo de Servicios"),s.Yb(),s.Zb(116,"input",31),s.hc("change",(function(e){return t.changeCosto(e)})),s.Yb(),s.Lc(117,ye,1,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(118,"div",28),s.Zb(119,"mat-form-field"),s.Zb(120,"mat-label"),s.Nc(121,"Costo Total"),s.Yb(),s.Ub(122,"input",32),s.Yb(),s.Yb(),s.Zb(123,"div",33),s.Zb(124,"mat-form-field"),s.Zb(125,"mat-label"),s.Nc(126,"Con la mejora quedan repuestos obsoletos?"),s.Yb(),s.Zb(127,"mat-select",34),s.Zb(128,"mat-option",35),s.Nc(129,"SI"),s.Yb(),s.Zb(130,"mat-option",36),s.Nc(131,"No"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(132,"div",33),s.Zb(133,"mat-form-field"),s.Zb(134,"mat-label"),s.Nc(135,"se cambia la planificacion de los repuestos?"),s.Yb(),s.Zb(136,"mat-select",37),s.Zb(137,"mat-option",35),s.Nc(138,"SI"),s.Yb(),s.Zb(139,"mat-option",36),s.Nc(140,"No"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(141,"div",33),s.Zb(142,"mat-form-field"),s.Zb(143,"mat-label"),s.Nc(144,"se matriculan nuevas referencias? "),s.Yb(),s.Zb(145,"mat-select",38),s.Zb(146,"mat-option",35),s.Nc(147,"SI"),s.Yb(),s.Zb(148,"mat-option",36),s.Nc(149,"No"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(150,"div",5),s.Zb(151,"mat-form-field"),s.Zb(152,"mat-label"),s.Nc(153,"BENEFICIO CUALITATIVO"),s.Yb(),s.Ub(154,"textarea",39),s.Yb(),s.Yb(),s.Zb(155,"div",5),s.Zb(156,"mat-form-field"),s.Zb(157,"mat-label"),s.Nc(158,"BENEFICIO CUANTITATIVO $"),s.Yb(),s.Ub(159,"input",40),s.Yb(),s.Yb(),s.Zb(160,"div",33),s.Zb(161,"mat-form-field"),s.Zb(162,"mat-label"),s.Nc(163,"DURACION DEL TRABAJO (DIAS)"),s.Yb(),s.Zb(164,"input",41),s.hc("change",(function(){return t.setDate()})),s.Yb(),s.Lc(165,De,1,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(166,"div",33),s.Zb(167,"mat-form-field"),s.Zb(168,"input",42),s.hc("change",(function(){return t.setDate()}))("dateChange",(function(e){return t.addEvent("change",e)})),s.Yb(),s.Ub(169,"mat-datepicker-toggle",43),s.Ub(170,"mat-datepicker",null,44),s.Lc(172,Fe,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(173,"div",33),s.Zb(174,"mat-form-field"),s.Zb(175,"mat-label"),s.Nc(176,"Fecha Final"),s.Yb(),s.Ub(177,"input",45),s.mc(178,"date"),s.Yb(),s.Yb(),s.Zb(179,"div",33),s.Zb(180,"mat-form-field"),s.Zb(181,"mat-label"),s.Nc(182,"Linea "),s.Yb(),s.Zb(183,"mat-select",46),s.hc("ngModelChange",(function(e){return t.onChangeLinea(e)})),s.Lc(184,Oe,2,2,"mat-option",10),s.Yb(),s.Yb(),s.Yb(),s.Zb(185,"div",33),s.Zb(186,"mat-form-field"),s.Zb(187,"mat-label"),s.Nc(188,"Horno "),s.Yb(),s.Zb(189,"mat-select",47),s.Lc(190,Me,2,2,"mat-option",10),s.Yb(),s.Yb(),s.Yb(),s.Zb(191,"div",33),s.Zb(192,"mat-form-field"),s.Zb(193,"mat-label"),s.Nc(194,"Clasificaci\xf3n"),s.Yb(),s.Zb(195,"mat-select",48),s.Ub(196,"mat-option",14),s.Lc(197,Ae,2,2,"mat-option",10),s.Yb(),s.Lc(198,Ee,2,0,"mat-error",7),s.Yb(),s.Yb(),s.Zb(199,"div",33),s.Zb(200,"mat-checkbox",49),s.Nc(201,"Enviar Correo electronico al Jefe?"),s.Yb(),s.Yb(),s.Yb(),s.Zb(202,"button",50),s.Nc(203,"Crear orden"),s.Yb(),s.Yb(),s.Lc(204,Pe,3,1,"div",51),s.Yb(),s.Yb(),s.Yb()),2&e){var a=s.Ac(7),i=s.Ac(171);s.Fb(6),s.rc("formGroup",t.reactiveForm2),s.Fb(8),s.rc("ngIf",t.reactiveForm2.get("nombre").invalid),s.Fb(6),s.rc("ngIf",t.reactiveForm2.get("descripcion").invalid),s.Fb(6),s.rc("ngForOf",t.UsersStatusProponente||s.tc(49,xe)),s.Fb(1),s.rc("ngIf",t.reactiveForm2.get("proponente").invalid),s.Fb(6),s.rc("ngForOf",t.UsersStatus||s.tc(50,xe)),s.Fb(1),s.rc("ngIf",t.reactiveForm2.get("AsignadoA").invalid),s.Fb(5),s.rc("items",t.petsData),s.Fb(1),s.rc("ngIf",t.reactiveForm2.get("nombreDelPet").invalid),s.Fb(22),s.rc("ngIf",t.reactiveForm2.get("pasoTPM").invalid),s.Fb(5),s.rc("items",t.puestodetrabajoData),s.Fb(1),s.rc("ngIf",t.reactiveForm2.get("responsableDelPuestoDetrabajo").invalid),s.Fb(6),s.rc("ngIf",t.reactiveForm2.get("responsableEjecutor").invalid),s.Fb(5),s.rc("items",t.maquinasData),s.Fb(1),s.rc("ngIf",t.reactiveForm2.get("codigoDelEquipo").invalid),s.Fb(5),s.rc("items",t.ubcacionTecnicaData)("ngModel",t.ubicacionTecnica),s.Fb(1),s.rc("ngIf",t.reactiveForm2.get("ubicacionTecnica").invalid),s.Fb(6),s.rc("ngIf",t.reactiveForm2.get("CodigoNormaDeLiquidacion").invalid),s.Fb(6),s.rc("ngForOf",t.ClaseDeActividad||s.tc(51,xe)),s.Fb(1),s.rc("ngIf",t.reactiveForm2.get("claseDeActividadID").invalid),s.Fb(5),s.rc("allowNegative","false")("currencyCode","COP"),s.Fb(1),s.rc("ngIf",t.reactiveForm2.get("costomaterial").invalid),s.Fb(5),s.rc("allowNegative","false")("currencyCode","COP"),s.Fb(1),s.rc("ngIf",t.reactiveForm2.get("costomanodeobra").invalid),s.Fb(5),s.rc("allowNegative","false")("currencyCode","COP"),s.Fb(1),s.rc("ngIf",t.reactiveForm2.get("costoservicios").invalid),s.Fb(5),s.rc("value",t.costoTotal)("allowNegative","false")("currencyCode","COP"),s.Fb(37),s.rc("allowNegative","false")("currencyCode","COP"),s.Fb(6),s.rc("ngIf",t.reactiveForm2.get("duraciondelTrabajo").invalid),s.Fb(3),s.rc("matDatepicker",i),s.Fb(1),s.rc("for",i),s.Fb(3),s.rc("ngIf",t.reactiveForm2.get("fechaInicio").invalid),s.Fb(5),s.rc("value",s.oc(178,46,t.fechaFinal,"dd/MM/yyyy")),s.Fb(7),s.rc("ngForOf",t.LineaData||s.tc(52,xe)),s.Fb(6),s.rc("ngForOf",t.vHornoResultData||s.tc(53,xe)),s.Fb(7),s.rc("ngForOf",t.ClasificacionData||s.tc(54,xe)),s.Fb(1),s.rc("ngIf",t.reactiveForm2.get("clasificacion").invalid),s.Fb(4),s.rc("disabled",t.submitted||!a.valid),s.Fb(2),s.rc("ngIf",t.showMessages.error&&(null==t.errors?null:t.errors.length)&&!t.submitted)}},directives:[k.a,T.c,T.a,w.a,w.c,l.x,l.q,l.j,T.d,b.c,b.g,m.b,l.c,l.p,l.h,l.v,d.n,ee.b,u.a,d.m,te.a,p.n,ae,oe.b,oe.d,b.i,oe.a,re.a,f.b,b.b],pipes:[d.f],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"]}),Se);function je(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"ingrese un nombre "),s.Yb())}function ke(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"ingrese un nombre "),s.Yb())}function Te(e,t){if(1&e&&(s.Zb(0,"mat-option",58),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Fb(1),s.Oc(a.fullName)}}function we(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"seleccione un proponente "),s.Yb())}function Ue(e,t){if(1&e&&(s.Zb(0,"mat-option",58),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.code),s.Fb(1),s.Oc(a.name)}}function Le(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"el estado de la orden"),s.Yb())}function ze(e,t){if(1&e&&(s.Zb(0,"mat-option",58),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Fb(1),s.Oc(a.fullName)}}function Je(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione una persona"),s.Yb())}function Ge(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione un pet "),s.Yb())}function Re(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione un paso tpm "),s.Yb())}function _e(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione un responsable "),s.Yb())}function Be(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"este campo es requerido"),s.Yb())}function Ve(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione un equipo "),s.Yb())}function $e(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"selecione una opcion "),s.Yb())}function He(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"ingrese un nombre "),s.Yb())}function Ke(e,t){if(1&e&&(s.Zb(0,"mat-option",58),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Fb(1),s.Oc(a.nombre)}}function Qe(e,t){1&e&&s.Ub(0,"mat-error")}function Xe(e,t){1&e&&s.Ub(0,"mat-error")}function We(e,t){1&e&&s.Ub(0,"mat-error")}function et(e,t){1&e&&s.Ub(0,"mat-error")}function tt(e,t){1&e&&s.Ub(0,"mat-error")}function at(e,t){1&e&&(s.Zb(0,"mat-error"),s.Nc(1,"Seleccione una fecha "),s.Yb())}function it(e,t){if(1&e&&(s.Zb(0,"mat-option",58),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Fb(1),s.Oc(a.descripcion)}}function ot(e,t){if(1&e&&(s.Zb(0,"mat-option",58),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Fb(1),s.Oc(a.descripcion)}}function rt(e,t){if(1&e&&(s.Zb(0,"mat-option",58),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Fb(1),s.Oc(a.nombre)}}function nt(e,t){if(1&e&&(s.Zb(0,"li",62),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.Fb(1),s.Oc(a)}}function ct(e,t){if(1&e&&(s.Zb(0,"div",59),s.Zb(1,"ul",60),s.Lc(2,nt,2,1,"li",61),s.Yb(),s.Yb()),2&e){var a=s.lc(2);s.Fb(2),s.rc("ngForOf",a.errors)}}var lt=function(){return[]};function st(e,t){if(1&e){var a=s.ac();s.Zb(0,"div"),s.Zb(1,"form",3,4),s.hc("ngSubmit",(function(){return s.Dc(a),s.lc().onSubmitOrderzmej()})),s.Zb(3,"div",5),s.Zb(4,"div",6),s.Zb(5,"mat-form-field"),s.Zb(6,"mat-label"),s.Nc(7,"NOMBRE DE LA PROPUESTA"),s.Yb(),s.Ub(8,"input",7),s.Lc(9,je,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(10,"div",6),s.Zb(11,"mat-form-field"),s.Zb(12,"mat-label"),s.Nc(13,"DESCRIPCION DETALLADA DE LA PROPUESTA"),s.Yb(),s.Ub(14,"textarea",8),s.Lc(15,ke,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(16,"div",9),s.Zb(17,"mat-form-field"),s.Zb(18,"mat-label"),s.Nc(19,"PROPONENTE"),s.Yb(),s.Zb(20,"mat-select",10),s.Lc(21,Te,2,2,"mat-option",11),s.Yb(),s.Lc(22,we,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(23,"div",9),s.Zb(24,"mat-form-field"),s.Zb(25,"mat-label"),s.Nc(26,"Estado"),s.Yb(),s.Zb(27,"mat-select",12),s.hc("selectionChange",(function(e){return s.Dc(a),s.lc().GetAllUserByStatusCode(e.value)})),s.Lc(28,Ue,2,2,"mat-option",11),s.Yb(),s.Lc(29,Le,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(30,"div",9),s.Zb(31,"mat-form-field"),s.Zb(32,"mat-label"),s.Nc(33,"JEFE DE MANTENIMIENTO"),s.Yb(),s.Zb(34,"mat-select",13),s.Lc(35,ze,2,2,"mat-option",11),s.Yb(),s.Lc(36,Je,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(37,"div",6),s.Zb(38,"mat-form-field"),s.Zb(39,"mat-label"),s.Nc(40,"Nombre ET"),s.Yb(),s.Ub(41,"mtx-select",14),s.Lc(42,Ge,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(43,"div",6),s.Zb(44,"mat-form-field"),s.Zb(45,"mat-label"),s.Nc(46,"PASO TPM"),s.Yb(),s.Zb(47,"mat-select",15),s.Zb(48,"mat-option",16),s.Nc(49,"0"),s.Yb(),s.Zb(50,"mat-option",17),s.Nc(51,"1"),s.Yb(),s.Zb(52,"mat-option",18),s.Nc(53,"2"),s.Yb(),s.Zb(54,"mat-option",19),s.Nc(55,"3"),s.Yb(),s.Zb(56,"mat-option",20),s.Nc(57,"4"),s.Yb(),s.Zb(58,"mat-option",21),s.Nc(59,"5"),s.Yb(),s.Zb(60,"mat-option",22),s.Nc(61,"6"),s.Yb(),s.Zb(62,"mat-option",23),s.Nc(63,"7"),s.Yb(),s.Yb(),s.Lc(64,Re,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(65,"div",6),s.Zb(66,"mat-form-field"),s.Zb(67,"mat-label"),s.Nc(68,"JEFE DE L\xedNEA"),s.Yb(),s.Ub(69,"mtx-select",24),s.Lc(70,_e,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(71,"div",6),s.Zb(72,"mat-form-field"),s.Zb(73,"mat-label"),s.Nc(74,"RESPONSABLE DE EJECUTAR"),s.Yb(),s.Ub(75,"input",25),s.Lc(76,Be,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(77,"div",6),s.Zb(78,"mat-form-field"),s.Zb(79,"mat-label"),s.Nc(80,"CODIGO DEL EQUIPO"),s.Yb(),s.Zb(81,"mtx-select",26),s.hc("ngModelChange",(function(e){return s.Dc(a),s.lc().onChangeMaquina(e)})),s.Yb(),s.Lc(82,Ve,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(83,"div",6),s.Zb(84,"mat-form-field"),s.Zb(85,"mat-label"),s.Nc(86,"UBICACI\xd3N TECNICA"),s.Yb(),s.Zb(87,"mtx-select",27),s.hc("ngModelChange",(function(e){return s.Dc(a),s.lc().onChangeUbicacion(e)}))("ngModelChange",(function(e){return s.Dc(a),s.lc().ubicacionTecnica=e})),s.Yb(),s.Lc(88,$e,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(89,"div",6),s.Zb(90,"mat-form-field"),s.Zb(91,"mat-label"),s.Nc(92,"# CeCo "),s.Yb(),s.Ub(93,"input",28),s.Lc(94,He,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(95,"div",6),s.Zb(96,"mat-form-field"),s.Zb(97,"mat-label"),s.Nc(98,"CLASE DE ACTIVIDAD"),s.Yb(),s.Zb(99,"mat-select",29),s.Lc(100,Ke,2,2,"mat-option",11),s.Yb(),s.Lc(101,Qe,1,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(102,"div",30),s.Zb(103,"mat-form-field"),s.Zb(104,"mat-label"),s.Nc(105,"Costo Material"),s.Yb(),s.Zb(106,"input",31),s.hc("change",(function(e){return s.Dc(a),s.lc().changeCosto(e)}))("blur",(function(e){return s.Dc(a),s.lc().updateUSAmount(e)})),s.Yb(),s.Lc(107,Xe,1,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(108,"div",30),s.Zb(109,"mat-form-field"),s.Zb(110,"mat-label"),s.Nc(111,"Costo Mano de Obra"),s.Yb(),s.Zb(112,"input",32),s.hc("change",(function(e){return s.Dc(a),s.lc().changeCosto(e)}))("blur",(function(e){return s.Dc(a),s.lc().updateUSAmount(e)})),s.Yb(),s.Lc(113,We,1,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(114,"div",30),s.Zb(115,"mat-form-field"),s.Zb(116,"mat-label"),s.Nc(117,"Costo de Servicios"),s.Yb(),s.Zb(118,"input",33),s.hc("change",(function(e){return s.Dc(a),s.lc().changeCosto(e)}))("blur",(function(e){return s.Dc(a),s.lc().updateUSAmount(e)})),s.Yb(),s.Lc(119,et,1,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(120,"div",30),s.Zb(121,"mat-form-field"),s.Zb(122,"mat-label"),s.Nc(123,"Costo Total"),s.Yb(),s.Ub(124,"input",34),s.Yb(),s.Yb(),s.Zb(125,"div",30),s.Zb(126,"mat-form-field"),s.Zb(127,"mat-label"),s.Nc(128,"Costo Real"),s.Yb(),s.Zb(129,"input",35),s.hc("blur",(function(e){return s.Dc(a),s.lc().updateUSAmount(e)})),s.Yb(),s.Yb(),s.Yb(),s.Zb(130,"div",30),s.Zb(131,"mat-form-field"),s.Zb(132,"mat-label"),s.Nc(133,"Valor Comprometido"),s.Yb(),s.Zb(134,"input",36),s.hc("blur",(function(e){return s.Dc(a),s.lc().updateUSAmount(e)})),s.Yb(),s.Yb(),s.Yb(),s.Zb(135,"div",9),s.Zb(136,"mat-form-field"),s.Zb(137,"mat-label"),s.Nc(138,"Con la mejora quedan repuestos obsoletos?"),s.Yb(),s.Zb(139,"mat-select",37),s.Zb(140,"mat-option",38),s.Nc(141,"SI"),s.Yb(),s.Zb(142,"mat-option",39),s.Nc(143,"No"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(144,"div",9),s.Zb(145,"mat-form-field"),s.Zb(146,"mat-label"),s.Nc(147,"se cambia la planificacion de los repuestos?"),s.Yb(),s.Zb(148,"mat-select",40),s.Zb(149,"mat-option",38),s.Nc(150,"SI"),s.Yb(),s.Zb(151,"mat-option",39),s.Nc(152,"No"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(153,"div",9),s.Zb(154,"mat-form-field"),s.Zb(155,"mat-label"),s.Nc(156,"se matriculan nuevas referencias? "),s.Yb(),s.Zb(157,"mat-select",41),s.Zb(158,"mat-option",38),s.Nc(159,"SI"),s.Yb(),s.Zb(160,"mat-option",39),s.Nc(161,"No"),s.Yb(),s.Yb(),s.Yb(),s.Yb(),s.Zb(162,"div",6),s.Zb(163,"mat-form-field"),s.Zb(164,"mat-label"),s.Nc(165,"BENEFICIO CUALITATIVO"),s.Yb(),s.Ub(166,"textarea",42),s.Yb(),s.Yb(),s.Zb(167,"div",6),s.Zb(168,"mat-form-field"),s.Zb(169,"mat-label"),s.Nc(170,"BENEFICIO CUANTITATIVO $"),s.Yb(),s.Ub(171,"input",43),s.Yb(),s.Yb(),s.Zb(172,"div",9),s.Zb(173,"mat-form-field"),s.Zb(174,"mat-label"),s.Nc(175,"DURACION DEL TRABAJO (DIAS)"),s.Yb(),s.Zb(176,"input",44),s.hc("change",(function(){return s.Dc(a),s.lc().setDate()})),s.Yb(),s.Lc(177,tt,1,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(178,"div",9),s.Zb(179,"mat-form-field"),s.Zb(180,"input",45),s.hc("dateChange",(function(e){return s.Dc(a),s.lc().addEvent("change",e)})),s.Yb(),s.Ub(181,"mat-datepicker-toggle",46),s.Ub(182,"mat-datepicker",null,47),s.Lc(184,at,2,0,"mat-error",2),s.Yb(),s.Yb(),s.Zb(185,"div",9),s.Zb(186,"mat-form-field"),s.Zb(187,"mat-label"),s.Nc(188,"Fecha Final"),s.Yb(),s.Ub(189,"input",48),s.mc(190,"date"),s.Yb(),s.Yb(),s.Zb(191,"div",9),s.Zb(192,"mat-form-field"),s.Zb(193,"mat-label"),s.Nc(194,"Linea "),s.Yb(),s.Zb(195,"mat-select",49),s.hc("ngModelChange",(function(e){return s.Dc(a),s.lc().onChangeLinea(e)})),s.Lc(196,it,2,2,"mat-option",11),s.Yb(),s.Yb(),s.Yb(),s.Zb(197,"div",9),s.Zb(198,"mat-form-field"),s.Zb(199,"mat-label"),s.Nc(200,"Horno "),s.Yb(),s.Zb(201,"mat-select",50),s.Lc(202,ot,2,2,"mat-option",11),s.Yb(),s.Yb(),s.Yb(),s.Zb(203,"div",9),s.Zb(204,"mat-form-field"),s.Zb(205,"mat-label"),s.Nc(206,"Clasificaci\xf3n"),s.Yb(),s.Zb(207,"mat-select",51),s.Ub(208,"mat-option",16),s.Lc(209,rt,2,2,"mat-option",11),s.Yb(),s.Yb(),s.Yb(),s.Zb(210,"div",9),s.Zb(211,"mat-form-field"),s.Zb(212,"mat-label"),s.Nc(213,"Orden de Manteniento"),s.Yb(),s.Ub(214,"input",52),s.Yb(),s.Yb(),s.Zb(215,"div",53),s.Zb(216,"mat-form-field"),s.Zb(217,"mat-label"),s.Nc(218,"Nota de matenimiento"),s.Yb(),s.Ub(219,"textarea",54),s.Yb(),s.Yb(),s.Zb(220,"div",9),s.Zb(221,"mat-checkbox",55),s.Nc(222,"Enviar Correo electronico al Jefe?"),s.Yb(),s.Yb(),s.Yb(),s.Zb(223,"button",56),s.Nc(224,"Actualizar Orden"),s.Yb(),s.Yb(),s.Lc(225,ct,3,1,"div",57),s.Yb()}if(2&e){var i=s.Ac(2),o=s.Ac(183),r=s.lc();s.Fb(1),s.rc("formGroup",r.reactiveForm2),s.Fb(8),s.rc("ngIf",r.reactiveForm2.get("nombre").invalid),s.Fb(6),s.rc("ngIf",r.reactiveForm2.get("descripcion").invalid),s.Fb(6),s.rc("ngForOf",r.UsersStatusProponente||s.tc(54,lt)),s.Fb(1),s.rc("ngIf",r.reactiveForm2.get("proponente").invalid),s.Fb(6),s.rc("ngForOf",r.FlujoData||s.tc(55,lt)),s.Fb(1),s.rc("ngIf",r.reactiveForm2.get("estado").invalid),s.Fb(6),s.rc("ngForOf",r.UsersStatus||s.tc(56,lt)),s.Fb(1),s.rc("ngIf",r.reactiveForm2.get("AsignadoA").invalid),s.Fb(5),s.rc("items",r.petsData),s.Fb(1),s.rc("ngIf",r.reactiveForm2.get("nombreDelPet").invalid),s.Fb(22),s.rc("ngIf",r.reactiveForm2.get("pasoTPM").invalid),s.Fb(5),s.rc("items",r.puestodetrabajoData),s.Fb(1),s.rc("ngIf",r.reactiveForm2.get("responsableDelPuestoDetrabajo").invalid),s.Fb(6),s.rc("ngIf",r.reactiveForm2.get("responsableEjecutor").invalid),s.Fb(5),s.rc("items",r.maquinasData),s.Fb(1),s.rc("ngIf",r.reactiveForm2.get("codigoDelEquipo").invalid),s.Fb(5),s.rc("items",r.ubcacionTecnicaData)("ngModel",r.ubicacionTecnica),s.Fb(1),s.rc("ngIf",r.reactiveForm2.get("ubicacionTecnica").invalid),s.Fb(6),s.rc("ngIf",r.reactiveForm2.get("CodigoNormaDeLiquidacion").invalid),s.Fb(6),s.rc("ngForOf",r.ClaseDeActividad||s.tc(57,lt)),s.Fb(1),s.rc("ngIf",r.reactiveForm2.get("claseDeActividadID").invalid),s.Fb(5),s.rc("allowNegative","false")("currencyCode","COP"),s.Fb(1),s.rc("ngIf",r.reactiveForm2.get("costomaterial").invalid),s.Fb(5),s.rc("allowNegative","false")("currencyCode","COP"),s.Fb(1),s.rc("ngIf",r.reactiveForm2.get("costomanodeobra").invalid),s.Fb(5),s.rc("allowNegative","false")("currencyCode","COP"),s.Fb(1),s.rc("ngIf",r.reactiveForm2.get("costoservicios").invalid),s.Fb(5),s.rc("value",r.costoTotal)("allowNegative","false")("currencyCode","COP"),s.Fb(5),s.rc("allowNegative","false")("currencyCode","COP"),s.Fb(5),s.rc("allowNegative","false")("currencyCode","COP"),s.Fb(37),s.rc("allowNegative","false")("currencyCode","COP"),s.Fb(6),s.rc("ngIf",r.reactiveForm2.get("duraciondelTrabajo").invalid),s.Fb(3),s.rc("matDatepicker",o),s.Fb(1),s.rc("for",o),s.Fb(3),s.rc("ngIf",r.reactiveForm2.get("fechaInicio").invalid),s.Fb(5),s.rc("value",s.oc(190,51,r.fechaFinal,"dd/MM/yyyy")),s.Fb(7),s.rc("ngForOf",r.LineaData||s.tc(58,lt)),s.Fb(6),s.rc("ngForOf",r.vHornoResultData||s.tc(59,lt)),s.Fb(7),s.rc("ngForOf",r.ClasificacionData||s.tc(60,lt)),s.Fb(14),s.rc("disabled",r.submitted||!i.valid),s.Fb(2),s.rc("ngIf",r.showMessages.error&&(null==r.errors?null:r.errors.length)&&!r.submitted)}}var bt,ut=((bt=function(){function e(t,a,i,o,r,n){_classCallCheck(this,e),this.fb=t,this.route=a,this.authService=i,this.authorizationService=o,this.router=r,this.dateAdapter=n,this.isAuthenticated=!1,this.orderZMEJ={},this.errors=[],this.showMessages={},this.loading=!1,this.NormaDeLiquidacionData=[],this.LineaData=[],this.vHornoResultData=[],this.HornoData=[],this.maquinasData=[],this.ClasificacionData=[],this.ubcacionTecnicaData=[],this.FlujoData=[],this.submitted=!1,this.alive=!0,this.ubicacionTecnica="",this.codigoDelEquipo="",this.costoTotal=0,this.show_form=!1,this.usAmount=0,this.dateAdapter.setLocale("en-GB"),this.showMessages={success:!0,error:!0},this.reactiveForm2=this.fb.group({id:null,nombre:["",[l.w.required]],descripcion:["",[l.w.required]],proponente:["",[l.w.required]],AsignadoA:["",[l.w.required]],nombreDelPet:[""],pasoTPM:[""],responsableDelPuestoDetrabajo:[""],responsableEjecutor:[""],codigoDelEquipo:[""],descripcionDelEquipo:[""],ubicacionTecnica:[""],descripcionDeUbicacionTecnica:[""],NormaDeLiquidacionId:["1"],CodigoNormaDeLiquidacion:[""],claseDeActividadID:[""],costomaterial:["0"],costomanodeobra:["0"],costoservicios:["0"],valcomprometido:["0"],costoPlaneado:["0"],beneficioCualitativo:"",beneficioCuantitativo:0,duraciondelTrabajo:["0"],fechaInicio:[""],pregunta1:"",pregunta2:"",pregunta3:"",estado:[0],linea:"",horno:"",costoreal:0,ordenMantenimiento:"",notaMantenimiento:"",clasificacion:"0",enviarCorreo:!1}),i.isLoggedIn()&&(this.isAuthenticated=!0,this.GetAllClaseDeActividad(),this.GetAllNormaDeLiquidacion(),this.GetAllUserValidador(),this.GetAllProponente(),this.GetAllMaquinas(),this.GetAllPets(),this.GetAllPuestoDeTrabajos(),this.GetAllUbicacionTecnica(),this.GetAllGrupoPlanificador(),this.GetAllResCrontrolProd(),this.GetAllStatusCode(),this.GetAllClasificacion(),this.delayAndShow())}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe((function(t){e.getOrderZMEJjById(t.get("id"))}))}},{key:"onChangeLinea",value:function(e){try{this.reactiveForm2.controls.horno.setValue(""),this.vHornoResultData=this.HornoData.filter((function(t){return t.resControlProdId===e}))}catch(t){}}},{key:"GetAllClasificacion",value:function(){var e=this;try{this.authorizationService.get("ZMEJ.api/clasificacion/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ClasificacionData=t.body}))}catch(t){console.log(t)}}},{key:"getOrderZMEJjById",value:function(e){var t=this;try{this.loading=!0,this.authorizationService.get("api/OrderZMEJ/findbyid/"+e).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){t.loading=!1,t.orderZMEJ=e.body,t.SetOrderForm()}))}catch(a){this.loading=!1,console.log(a)}}},{key:"SetOrderForm",value:function(){try{null!=this.orderZMEJ&&(console.log(this.orderZMEJ),this.reactiveForm2.patchValue({id:this.orderZMEJ.id,nombre:this.orderZMEJ.nombre,descripcion:this.orderZMEJ.descripcion,proponente:this.orderZMEJ.proponente,AsignadoA:this.orderZMEJ.asignadoA,nombreDelPet:this.orderZMEJ.nombreDelPet,pasoTPM:this.orderZMEJ.pasoTPM,responsableDelPuestoDetrabajo:this.orderZMEJ.responsableDelPuestoDetrabajo,responsableEjecutor:this.orderZMEJ.responsableEjecutor,codigoDelEquipo:this.orderZMEJ.codigoDelEquipo,descripcionDelEquipo:this.orderZMEJ.descripcionDelEquipo,ubicacionTecnica:this.orderZMEJ.ubicacionTecnica,descripcionDeUbicacionTecnica:this.orderZMEJ.descripcionDeUbicacionTecnica,CodigoNormaDeLiquidacion:this.orderZMEJ.codigoNormaDeLiquidacion,claseDeActividadID:this.orderZMEJ.claseDeActividadID,costomaterial:this.orderZMEJ.costoMaterial,costomanodeobra:this.orderZMEJ.costomanodeobra,costoservicios:this.orderZMEJ.costoServicios,valcomprometido:this.orderZMEJ.valComprometido,costoPlaneado:this.orderZMEJ.costoPlaneado,beneficioCualitativo:this.orderZMEJ.beneficioCualitativo,beneficioCuantitativo:this.orderZMEJ.beneficioCuantitativo,duraciondelTrabajo:this.orderZMEJ.duraciondelTrabajo,fechaInicio:this.orderZMEJ.fechaInicio,pregunta1:this.orderZMEJ.pregunta1,pregunta2:this.orderZMEJ.pregunta2,pregunta3:this.orderZMEJ.pregunta3,ordenMantenimiento:this.orderZMEJ.ordenMantenimiento,notaMantenimiento:this.orderZMEJ.notaMantenimiento,linea:this.orderZMEJ.linea,horno:this.orderZMEJ.horno,costoreal:this.orderZMEJ.costoReal,estado:this.orderZMEJ.estado,clasificacion:this.orderZMEJ.clasificacion,enviarCorreo:!1}),this.changeCosto(0),this.ubicacionTecnica=this.orderZMEJ.ubicacionTecnica,this.fechaFinal=this.orderZMEJ.fechaFin,this.GetAllUserByStatusCode(this.orderZMEJ.estado),this.onChangeUbicacion(this.orderZMEJ.ubicacionTecnica))}catch(e){}}},{key:"delayAndShow",value:function(){var e=this;try{setTimeout((function(){e.show_form=!0,console.log(e.show_form)}),3e3)}catch(t){}}},{key:"GetAllUserValidador",value:function(){var e=this;this.authorizationService.get("api/RoleStatusCode/getUserByCode/2/"+Y.a.aplicationId).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.UsersStatus=t.body}),(function(e){}))}},{key:"GetAllProponente",value:function(){var e=this;this.authorizationService.get("api/RoleStatusCode/getUserByCode/1/"+Y.a.aplicationId).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.UsersStatusProponente=t.body}),(function(e){}))}},{key:"GetAllNormaDeLiquidacion",value:function(){var e=this;this.authorizationService.get("ZMEJ.api/NormaDeLiquidacion/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.NormaDeLiquidacionData=t.body}),(function(e){}))}},{key:"GetAllClaseDeActividad",value:function(){var e=this;this.authorizationService.get("ZMEJ.api/ClaseDeActividad/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ClaseDeActividad=t.body}),(function(e){}))}},{key:"GetAllPets",value:function(){var e=this;this.authorizationService.get("maestrassip.api/pets/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.petsData=t.body}),(function(e){}))}},{key:"GetAllResCrontrolProd",value:function(){var e=this;this.authorizationService.get("zmej.api/resctrlproduccion/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.LineaData=t.body}),(function(e){}))}},{key:"GetAllUserByStatusCode",value:function(e){var t=this;try{this.loading=!0,this.authorizationService.get("api/RoleStatusCode/getUserByCode/"+e+"/"+Y.a.aplicationId).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){t.UsersStatus=e.body,t.loading=!1}),(function(e){}))}catch(a){this.loading=!1}}},{key:"GetAllStatusCode",value:function(){var e=this;try{this.authorizationService.get("zmej.api/statuscode/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.FlujoData=t.body}))}catch(t){console.log(t)}}},{key:"GetAllGrupoPlanificador",value:function(){var e=this;this.authorizationService.get("zmej.api/grupoPlanificador/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.HornoData=t.body,e.vHornoResultData=e.HornoData}),(function(e){}))}},{key:"GetAllMaquinas",value:function(){var e=this;this.maquinasData=[],this.authorizationService.get("zmej.api/maquinas/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.maquinasData=t.body}),(function(e){}))}},{key:"GetAllUbicacionTecnica",value:function(){var e=this;this.authorizationService.get("zmej.api/ubicacionTecnica/getallactive").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ubcacionTecnicaData=t.body}),(function(e){}))}},{key:"GetAllPuestoDeTrabajos",value:function(){var e=this;this.authorizationService.get("zmej.api/puestodetrabajo/getallactive").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.puestodetrabajoData=t.body}),(function(e){}))}},{key:"onSubmitOrderzmej",value:function(){var e=this;this.errors=[],this.messages=[],this.submitted=!0;try{this.authorizationService.post("api/OrderZMEJ/update",this.reactiveForm2.value).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){200==t.status?(console.log("redirect..."),e.messages[0]="datos guardados correctamente",setTimeout((function(){return e.router.navigateByUrl("/orders/zmej")}),e.redirectDelay)):403==t.status?(e.submitted=!1,e.errors[0]="No tienes permiso para realizar esta acci\xf3n"):(e.submitted=!1,e.errors[0]=t.error,console.log(t.error))}),(function(t){e.submitted=!1,e.errors=t}))}catch(t){console.log(t),this.submitted=!1}}},{key:"onChangeUbicacion",value:function(e){try{console.log(e),this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue("");var t=this.ubcacionTecnicaData.filter((function(t){return t.ubicacion===e}));null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue(t[0].descripcion))}catch(a){console.log("error en ubicacion tecnica")}}},{key:"onChangeMaquina",value:function(e){try{this.reactiveForm2.controls.descripcionDelEquipo.setValue("");var t=this.maquinasData.filter((function(t){return t.maquina===e}));null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDelEquipo.setValue(t[0].descripcion))}catch(a){console.log("error en onChangeMaquina ")}}},{key:"changeCosto",value:function(e){try{var t=this.reactiveForm2.get("costoservicios"),a=this.reactiveForm2.get("costomanodeobra"),i=this.reactiveForm2.get("costomaterial"),o=+t.value,r=+a.value,n=+i.value;console.log(o),console.log(r),this.costoTotal=o+r+n}catch(c){}}},{key:"numberFormat",value:function(e){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(e)}},{key:"updateUSAmount",value:function(e){this.usAmount=e.target.value}},{key:"setDate",value:function(){try{var e=this.reactiveForm2.get("fechaInicio").value,t=+this.reactiveForm2.get("duraciondelTrabajo").value,a=new Date(e);new Date,console.log(a),this.fechaFinal=this.addDays(a,t)}catch(i){}}},{key:"addDays",value:function(e,t){return e.setDate(e.getDate()+t),e}},{key:"addEvent",value:function(e,t){this.setDate()}}]),e}()).\u0275fac=function(e){return new(e||bt)(s.Tb(l.e),s.Tb(o.a),s.Tb(n.b),s.Tb(n.c),s.Tb(o.f),s.Tb(p.c))},bt.\u0275cmp=s.Nb({type:bt,selectors:[["ngx-orderzmej"]],decls:7,vars:1,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],[4,"ngIf"],[1,"form-field-full",3,"formGroup","ngSubmit"],["form","ngForm"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],["matInput","","placeholder","nombre de la propuesta","formControlName","nombre","required",""],["matInput","","cdkTextareaAutosize","","formControlName","descripcion","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["fxFlex","33.3","fxFlex.lt-sm","100"],["required","","formControlName","proponente","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","estado","required","",3,"selectionChange"],["required","","formControlName","AsignadoA","required",""],["bindLabel","descripcion","bindValue","descripcion","autofocus","","formControlName","nombreDelPet",3,"items"],["formControlName","pasoTPM"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["bindLabel","fullDescripcion","bindValue","fullDescripcion","autofocus","","formControlName","responsableDelPuestoDetrabajo",3,"items"],["matInput","","placeholder","Simple placeholder","type","text","formControlName","responsableEjecutor"],["bindLabel","fullDescripcion","bindValue","maquina","autofocus","","formControlName","codigoDelEquipo",3,"items","ngModelChange"],["bindLabel","fullDescripcion","bindValue","fullDescripcion","autofocus","","formControlName","ubicacionTecnica",3,"items","ngModel","ngModelChange"],["matInput","","placeholder","nombre","formControlName","CodigoNormaDeLiquidacion"],["formControlName","claseDeActividadID"],["fxFlex","20","fxFlex.lt-sm","100"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomaterial","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","change","blur"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomanodeobra","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","change","blur"],["matInput","","placeholder","Costo Material","type","text","formControlName","costoservicios","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","change","blur"],["matInput","","mvndrMatCurrencyFormat","","formControlName","costoPlaneado","readonly","",3,"value","allowNegative","currencyCode"],["matInput","","placeholder","Costo Real","type","text","formControlName","costoreal","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","blur"],["matInput","","placeholder","Costo Real","type","text","formControlName","valcomprometido","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","blur"],["formControlName","pregunta1"],["value","Si"],["value","No"],["formControlName","pregunta2"],["formControlName","pregunta3"],["matInput","","cdkTextareaAutosize","","formControlName","beneficioCualitativo","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["matInput","","placeholder","beneficioCuantitativo","mvndrMatCurrencyFormat","","formControlName","beneficioCuantitativo",3,"allowNegative","currencyCode"],["matInput","","placeholder","","formControlName","duraciondelTrabajo",3,"change"],["matInput","","placeholder","Fecha de inicio","formControlName","fechaInicio",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","",3,"value"],["formControlName","linea",3,"ngModelChange"],["formControlName","horno"],["formControlName","clasificacion"],["matInput","","placeholder","Orden","type","text","formControlName","ordenMantenimiento"],["fxFlex","66.3","fxFlex.lt-sm","100"],["matInput","","cdkTextareaAutosize","","formControlName","notaMantenimiento","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["id","amateur","color","primary","formControlName","enviarCorreo",1,"amateur"],["mat-raised-button","","color","primary",1,"m-t-8",3,"disabled"],["class","m-t-16","outline","danger",4,"ngIf"],[3,"value"],["outline","danger",1,"m-t-16"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"]],template:function(e,t){1&e&&(s.Ub(0,"page-header"),s.Zb(1,"div",0),s.Zb(2,"div",1),s.Zb(3,"mat-card"),s.Zb(4,"mat-card-title"),s.Nc(5,"Editar Orden "),s.Yb(),s.Lc(6,st,226,61,"div",2),s.Yb(),s.Yb(),s.Yb()),2&e&&(s.Fb(6),s.rc("ngIf",t.show_form&&null!=t.orderZMEJ&&null!=t.orderZMEJ.id))},directives:[k.a,T.c,T.a,w.a,w.c,d.n,l.x,l.q,l.j,T.d,b.c,b.g,m.b,l.c,l.p,l.h,l.v,ee.b,u.a,d.m,te.a,p.n,ae,oe.b,oe.d,b.i,oe.a,re.a,f.b,b.b],pipes:[d.f],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"]}),bt);function dt(e,t){if(1&e&&(s.Zb(0,"mat-option",8),s.Nc(1),s.Yb()),2&e){var a=t.$implicit;s.sc("value",a.code),s.Fb(1),s.Oc(a.name)}}var mt,ft,pt,ht=function(){return[5,10,20]},gt=[{path:"zmej",component:W,data:{title:"Ordenes"}},{path:"my_orders",component:(mt=function(){function e(t,a,i,o,r,n,c){var l=this;_classCallCheck(this,e),this.authService=t,this.pagerService=a,this.datePipe=i,this.currencyPipe=o,this.cdr=r,this.authorizationService=n,this._router=c,this.FlujoData=[],this.isAuthenticated=!1,this.alive=!0,this.columns=[{header:"Orden",field:"ordenMantenimiento",width:"100px"},{header:"Nombre",field:"Nombre",formatter:function(e){return'<span class="sortable" (click)="viewOrderzmejDetail('.concat(e.id,')">').concat(e.nombre,"</span>")}},{header:"ET",field:"nombreDelPet"},{header:"Costo Real",field:"costoReal",formatter:function(e){return""+l.currencyPipe.transform(e.costoReal,"","symbol","1.0-0")}},{header:"Costo Planeado",field:"costoPlaneado",formatter:function(e){return""+l.currencyPipe.transform(e.costoPlaneado,"","symbol","1.0-0")}},{header:"Estado",field:"nombreEstado"},{header:"Clasificaci\xf3n",field:"nombreClasificacion"},{header:"Fecha de inicio",field:"fechaInicio",formatter:function(e){return""+l.datePipe.transform(e.fechaInicio,"dd/MM/yyyy")}},{header:"codigo del equipo",field:"codigoDelEquipo"},{header:"Descripcion del equipo",field:"descripcionDelEquipo"},{header:"Option",field:"option",width:"120px",pinned:"right",right:"0px",type:"button",buttons:[{type:"icon",text:"Ver detalle",icon:"visibility",tooltip:"Ver detalle",click:function(e){return l.viewOrderzmejDetail(e)}},{icon:"edit",tooltip:"Editar",type:"icon",click:function(e){return l.EditOrderzmejDetail(e)}}]}],this.list=[],this.total=0,this.isLoading=!0,this.query={q:"",sort:"stars",name:"0",page:0,per_page:10},t.isLoggedIn()&&(this.isAuthenticated=!0,this.GetAllMyOrderZMEJ(),this.GetAllStatusCode())}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"GetAllStatusCode",value:function(){var e=this;try{this.authorizationService.get("zmej.api/statuscode/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.FlujoData=t.body}))}catch(t){console.log(t)}}},{key:"GetAllMyOrderZMEJ",value:function(){var e=this;try{this.authorizationService.get("zmej.api/OrderZMEJ/getAllAssigned").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.OrderData=t.body,null!=e.OrderData&&(e.setpage(),e.total=e.OrderData.length,e.cdr.detectChanges()),e.isLoading=!1}))}catch(t){console.log(t)}}},{key:"applyFilter",value:function(e){e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e}},{key:"addOrderzmej",value:function(e){null==e&&this._router.navigate(["/tickets/orders/create-zmej"])}},{key:"viewOrderzmejDetail",value:function(e){null!=e&&this._router.navigate(["/ordenes/order-zmej-details/"+e.id])}},{key:"getNextPage",value:function(e){this.query.page=e.pageIndex,this.query.per_page=e.pageSize,this.setpage()}},{key:"search",value:function(){this.query.page=0,this.setpage()}},{key:"setpage",value:function(){try{var e=this.pagerService.getPager(this.OrderData.length,this.query.page+1,this.query.per_page);this.list=this.OrderData.slice(e.startIndex,e.endIndex+1)}catch(t){}}},{key:"EditOrderzmejDetail",value:function(e){null!=e&&this._router.navigate(["/ordenes/edit-zmej/"+e.id])}},{key:"params",get:function(){var e=Object.assign({},this.query);return e.page+=1,Object(B.a)(e)}}]),e}(),mt.\u0275fac=function(e){return new(e||mt)(s.Tb(n.b),s.Tb(n.f),s.Tb(d.f),s.Tb(d.d),s.Tb(s.h),s.Tb(n.c),s.Tb(o.f))},mt.\u0275cmp=s.Nb({type:mt,selectors:[["ngx-my-orderzmej"]],decls:14,vars:12,consts:[[1,"bg-blue-600"],[1,"m-r-8"],["matInput","","name","q","placeholder","Buscar por nombre",3,"ngModel","ngModelChange"],["name","order","placeholder","Filtrar por estado",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"m-r-8",3,"click"],[3,"data","columns","length","loading","pageOnFront","pageIndex","pageSize","pageSizeOptions","page"],[3,"value"]],template:function(e,t){1&e&&(s.Ub(0,"page-header",0),s.Zb(1,"form"),s.Zb(2,"mat-form-field",1),s.Zb(3,"input",2),s.hc("ngModelChange",(function(e){return t.query.q=e})),s.Yb(),s.Yb(),s.Zb(4,"mat-form-field",1),s.Zb(5,"mat-select",3),s.hc("ngModelChange",(function(e){return t.query.name=e})),s.Zb(6,"mat-option",4),s.Nc(7,"-- None --"),s.Yb(),s.Lc(8,dt,2,2,"mat-option",5),s.Yb(),s.Yb(),s.Zb(9,"button",6),s.hc("click",(function(){return t.search()})),s.Nc(10,"Buscar"),s.Yb(),s.Zb(11,"button",6),s.hc("click",(function(){return t.addOrderzmej(null)})),s.Nc(12,"Crear nueva orden"),s.Yb(),s.Yb(),s.Zb(13,"mtx-grid",7),s.hc("page",(function(e){return t.getNextPage(e)})),s.Yb()),2&e&&(s.Fb(3),s.rc("ngModel",t.query.q),s.Fb(2),s.rc("ngModel",t.query.name),s.Fb(3),s.rc("ngForOf",t.FlujoData),s.Fb(5),s.rc("data",t.list)("columns",t.columns)("length",t.total)("loading",t.isLoading)("pageOnFront",!1)("pageIndex",t.query.page)("pageSize",t.query.per_page)("pageSizeOptions",s.tc(11,ht)))},directives:[k.a,l.x,l.q,l.r,b.c,m.b,l.c,l.p,l.s,u.a,p.n,d.m,f.b,V.a],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"]}),mt)},{path:"create-zmej",component:qe},{path:"order-zmej-details/:id",component:_},{path:"edit-zmej/:id",component:ut}],vt=((pt=function e(){_classCallCheck(this,e)}).\u0275mod=s.Rb({type:pt}),pt.\u0275inj=s.Qb({factory:function(e){return new(e||pt)},imports:[[o.j.forChild(gt)],o.j]}),pt),Zt=((ft=function e(){_classCallCheck(this,e)}).\u0275mod=s.Rb({type:ft}),ft.\u0275inj=s.Qb({factory:function(e){return new(e||ft)},providers:[d.f,d.d],imports:[[i.a,ie,vt]]}),ft)}}]);