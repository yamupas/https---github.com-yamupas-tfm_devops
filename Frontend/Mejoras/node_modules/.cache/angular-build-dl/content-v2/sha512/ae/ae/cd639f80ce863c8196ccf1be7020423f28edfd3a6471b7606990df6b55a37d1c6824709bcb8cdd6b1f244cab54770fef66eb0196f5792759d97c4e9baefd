(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"8vy2":function(e,t,a){"use strict";a.r(t),a.d(t,"FormsModule",(function(){return ct}));var i=a("PCNd"),o=a("tyNb"),r=a("GJmQ"),c=a("ey9i"),n=a("0IaG"),s=a("3Pt+"),l=a("fXoL"),b=a("kmnG"),d=a("d3UM"),m=a("ofXK"),u=a("qFsG"),h=a("bTqV"),p=a("FKr1");const f=["class","component"];function g(e,t){if(1&e&&(l.Zb(0,"mat-option",9),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Fb(1),l.Oc(e.fullName)}}const v=function(){return[]};let Z=(()=>{class e{constructor(e,t,a){this.dialogRef=e,this.data=t,this.fb=a,this.vData={},this.vData=this.data.vData,console.log(this.vData),this.formConfirm=this.fb.group({id:null,Estado:[1],AsignadoA:[null,s.w.compose([s.w.required])],Observacion:""})}cancel(){this.dialogRef.close(!1)}submit(e,t){this.dialogRef.close({estado:!0,Observacion:e,AsignadoA:t})}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(n.g),l.Tb(n.a),l.Tb(s.e))},e.\u0275cmp=l.Nb({type:e,selectors:[["ngx-dialog-confirm",8,"component"]],attrs:f,decls:19,vars:6,consts:[["mat-dialog-title",""],[3,"formGroup"],["required","","formControlName","AsignadoA"],["AsignadoA",""],[3,"value",4,"ngFor","ngForOf"],[1,"demo-full-width"],["matInput","","formControlName","Observacion"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(e,t){1&e&&(l.Zb(0,"h2",0),l.Nc(1),l.Yb(),l.Zb(2,"mat-dialog-content"),l.Zb(3,"form",1),l.Zb(4,"mat-form-field"),l.Zb(5,"mat-label"),l.Nc(6,"ASIGNAR A"),l.Yb(),l.Zb(7,"mat-select",2,3),l.Lc(9,g,2,2,"mat-option",4),l.Yb(),l.Yb(),l.Zb(10,"mat-form-field",5),l.Zb(11,"mat-label"),l.Nc(12,"Observaci\xf3n"),l.Yb(),l.Ub(13,"textarea",6),l.Yb(),l.Yb(),l.Yb(),l.Zb(14,"mat-dialog-actions"),l.Zb(15,"button",7),l.hc("click",(function(){return t.cancel()})),l.Nc(16,"Cancelar"),l.Yb(),l.Zb(17,"button",8),l.Nc(18,"Aceptar"),l.Yb(),l.Yb()),2&e&&(l.Fb(1),l.Oc(t.vData.title),l.Fb(2),l.rc("formGroup",t.formConfirm),l.Fb(6),l.rc("ngForOf",t.vData.usersStatus||l.tc(5,v)),l.Fb(8),l.rc("mat-dialog-close",t.formConfirm.value)("disabled",!t.formConfirm.valid))},directives:[n.h,n.e,s.x,s.q,s.j,b.c,b.g,d.a,s.v,s.p,s.h,m.m,u.b,s.c,n.c,h.b,n.d,p.n],styles:[""]}),e})();var Y=a("AytR");const C=["class","component"];function N(e,t){if(1&e&&(l.Zb(0,"mat-option",11),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.code),l.Fb(1),l.Oc(e.name)}}function D(e,t){if(1&e&&(l.Zb(0,"mat-option",11),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Fb(1),l.Oc(e.fullName)}}const F=function(){return[]};let O=(()=>{class e{constructor(e,t,a,i){this.dialogRef=e,this.data=t,this.fb=a,this.authorizationService=i,this.vData={},this.UsersStatus=[],this.alive=!0,this.error_message="";try{this.vData=this.data.vData,this.formReject=this.fb.group({id:null,Estado:[null,s.w.compose([s.w.required])],AsignadoA:[null,s.w.compose([s.w.required])],Observacion:""})}catch(o){}}cancel(){this.dialogRef.close(!1)}submit(e){console.log(this.formReject.value)}GetuserByStatusCode(e){try{console.log(e),this.UsersStatus=[],e>0&&this.authorizationService.get("api/RoleStatusCode/getUserByCode/"+e+"/"+Y.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatus=e.body},e=>{console.log(e),this.error_message=e})}catch(t){}}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(n.g),l.Tb(n.a),l.Tb(s.e),l.Tb(c.c))},e.\u0275cmp=l.Nb({type:e,selectors:[["ngx-dialog-reject",8,"component"]],attrs:C,decls:25,vars:9,consts:[["mat-dialog-title",""],[3,"formGroup"],["required","","name","Estado","formControlName","Estado",3,"ngModel","ngModelChange"],["Estado",""],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","AsignadoA"],["AsignadoA",""],[1,"demo-full-width"],["matInput","","formControlName","Observacion"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(e,t){1&e&&(l.Zb(0,"h2",0),l.Nc(1),l.Yb(),l.Zb(2,"mat-dialog-content"),l.Zb(3,"form",1),l.Zb(4,"mat-form-field"),l.Zb(5,"mat-label"),l.Nc(6,"ESTADO"),l.Yb(),l.Zb(7,"mat-select",2,3),l.hc("ngModelChange",(function(e){return t.vData.Estado=e}))("ngModelChange",(function(e){return t.GetuserByStatusCode(e)})),l.Lc(9,N,2,2,"mat-option",4),l.Yb(),l.Yb(),l.Zb(10,"mat-form-field"),l.Zb(11,"mat-label"),l.Nc(12,"ASIGNAR A"),l.Yb(),l.Zb(13,"mat-select",5,6),l.Lc(15,D,2,2,"mat-option",4),l.Yb(),l.Yb(),l.Zb(16,"mat-form-field",7),l.Zb(17,"mat-label"),l.Nc(18,"Observaci\xf3n"),l.Yb(),l.Ub(19,"textarea",8),l.Yb(),l.Yb(),l.Yb(),l.Zb(20,"mat-dialog-actions"),l.Zb(21,"button",9),l.hc("click",(function(){return t.cancel()})),l.Nc(22,"Cancelar"),l.Yb(),l.Zb(23,"button",10),l.Nc(24,"Aceptar"),l.Yb(),l.Yb()),2&e&&(l.Fb(1),l.Oc(t.vData.title),l.Fb(2),l.rc("formGroup",t.formReject),l.Fb(4),l.rc("ngModel",t.vData.Estado),l.Fb(2),l.rc("ngForOf",t.vData.statusData||l.tc(7,F)),l.Fb(6),l.rc("ngForOf",t.UsersStatus||l.tc(8,F)),l.Fb(8),l.rc("mat-dialog-close",t.formReject.value)("disabled",!t.formReject.valid))},directives:[n.h,n.e,s.x,s.q,s.j,b.c,b.g,d.a,s.v,s.p,s.h,m.m,u.b,s.c,n.c,h.b,n.d,p.n],styles:[""]}),e})();const y=["class","component"];function M(e,t){if(1&e&&(l.Zb(0,"mat-option",7),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.nombre),l.Fb(1),l.Oc(e.nombre)}}const A=function(){return[]};let E=(()=>{class e{constructor(e,t,a){this.dialogRef=e,this.data=t,this.fb=a,this.vData={},this.vData=this.data.vData,this.formConfirm=this.fb.group({Clasificacion:[null,s.w.compose([s.w.required])]})}cancel(){this.dialogRef.close(!1)}submit(e,t){this.dialogRef.close({estado:!0,Observacion:e,AsignadoA:t})}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(n.g),l.Tb(n.a),l.Tb(s.e))},e.\u0275cmp=l.Nb({type:e,selectors:[["ngx-dialog-confirm",8,"component"]],attrs:y,decls:15,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["required","","formControlName","Clasificacion"],["ClaisifacionId",""],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(e,t){1&e&&(l.Zb(0,"h2",0),l.Nc(1,"Clasifiaci\xf2n"),l.Yb(),l.Zb(2,"mat-dialog-content"),l.Zb(3,"form",1),l.Zb(4,"mat-form-field"),l.Zb(5,"mat-label"),l.Nc(6,"Seleccione una Clasifiaci\xf2n"),l.Yb(),l.Zb(7,"mat-select",2,3),l.Lc(9,M,2,2,"mat-option",4),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(10,"mat-dialog-actions"),l.Zb(11,"button",5),l.hc("click",(function(){return t.cancel()})),l.Nc(12,"Cancelar"),l.Yb(),l.Zb(13,"button",6),l.Nc(14,"Aceptar"),l.Yb(),l.Yb()),2&e&&(l.Fb(3),l.rc("formGroup",t.formConfirm),l.Fb(6),l.rc("ngForOf",t.vData.ClasificacionData||l.tc(4,A)),l.Fb(4),l.rc("mat-dialog-close",t.formConfirm.value)("disabled",!t.formConfirm.valid))},directives:[n.h,n.e,s.x,s.q,s.j,b.c,b.g,d.a,s.v,s.p,s.h,m.m,n.c,h.b,n.d,p.n],styles:[""]}),e})();const I=["class","component"];let S=(()=>{class e{constructor(e,t,a){this.dialogRef=e,this.data=t,this.fb=a,this.vData={},this.alive=!0;try{this.vData=this.data.vData,this.formSendMantenimiento=this.fb.group({id:null,Estado:[!0,s.w.compose([s.w.required])],evidencia:[null,s.w.compose([s.w.required])],NotaMantenimiento:"",tipodetrabajo:[null,s.w.compose([s.w.required])],ordenmantenimiento:["",s.w.compose([s.w.required])]})}catch(i){}}cancel(){this.dialogRef.close(!1)}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(n.g),l.Tb(n.a),l.Tb(s.e))},e.\u0275cmp=l.Nb({type:e,selectors:[["ngx-dialog-confirm",8,"component"]],attrs:I,decls:9,vars:0,consts:[["mat-dialog-title",""],[1,"demo-full-width"],["matInput","","formControlName","NotaMantenimiento"]],template:function(e,t){1&e&&(l.Zb(0,"h2",0),l.Nc(1,"ESPACIO PARA ADMINISTRACI\xf3N DE MANTENIMIENTO"),l.Yb(),l.Zb(2,"mat-dialog-content"),l.Zb(3,"form"),l.Zb(4,"mat-form-field",1),l.Zb(5,"mat-label"),l.Nc(6,"Observaci\xf3n"),l.Yb(),l.Ub(7,"textarea",2),l.Yb(),l.Yb(),l.Yb(),l.Ub(8,"mat-dialog-actions"))},directives:[n.h,n.e,s.x,s.q,s.r,b.c,b.g,u.b,s.c,s.p,s.h,n.c],styles:[""]}),e})();var P=a("tgey"),x=a("XiUz"),q=a("Wp6s");function j(e,t){if(1&e&&(l.Zb(0,"h3",4),l.Nc(1),l.Yb()),2&e){const e=l.lc();l.Fb(1),l.Oc(e.OrderData.nombre)}}function T(e,t){if(1&e){const e=l.ac();l.Zb(0,"div",15),l.Zb(1,"button",11),l.hc("click",(function(){return l.Dc(e),l.lc(3).openOrderEspacioMantenimiento()})),l.Nc(2,"ESPACIO PARA ADMINISTRACION DE MANTENIMIENTO"),l.Yb(),l.Yb()}}function U(e,t){if(1&e){const e=l.ac();l.Zb(0,"div",16),l.Zb(1,"button",11),l.hc("click",(function(){return l.Dc(e),l.lc(3).openClasificacionConfirm()})),l.Nc(2,"Clasificar"),l.Yb(),l.Yb()}}function w(e,t){if(1&e){const e=l.ac();l.Zb(0,"div",9),l.Zb(1,"div",10),l.Zb(2,"button",11),l.hc("click",(function(){return l.Dc(e),l.lc(2).openOrderZMEJConfirm()})),l.Nc(3,"Aprobar"),l.Yb(),l.Yb(),l.Zb(4,"div",10),l.Zb(5,"button",12),l.hc("click",(function(){return l.Dc(e),l.lc(2).openOrderZMEJReject()})),l.Nc(6,"Rechazar"),l.Yb(),l.Yb(),l.Lc(7,T,3,0,"div",13),l.Lc(8,U,3,0,"div",14),l.Yb()}if(2&e){const e=l.lc(2);l.Fb(7),l.rc("ngIf",6==e.OrderData.estado),l.Fb(1),l.rc("ngIf",6==e.OrderData.estado)}}function L(e,t){if(1&e&&(l.Zb(0,"div"),l.Zb(1,"div",5),l.Zb(2,"div",6),l.Zb(3,"address"),l.Zb(4,"strong"),l.Nc(5,"# de la orden:"),l.Yb(),l.Ub(6,"br"),l.Nc(7),l.Ub(8,"br"),l.Yb(),l.Zb(9,"address"),l.Zb(10,"strong"),l.Nc(11,"Proponente:"),l.Yb(),l.Ub(12,"br"),l.Nc(13),l.Ub(14,"br"),l.Yb(),l.Zb(15,"address"),l.Zb(16,"strong"),l.Nc(17,"Asignado A:"),l.Yb(),l.Ub(18,"br"),l.Nc(19),l.Ub(20,"br"),l.Yb(),l.Zb(21,"address"),l.Zb(22,"strong"),l.Nc(23,"Jefe de L\xednea:"),l.Yb(),l.Ub(24,"br"),l.Nc(25),l.Ub(26,"br"),l.Yb(),l.Zb(27,"address"),l.Zb(28,"strong"),l.Nc(29,"Responsable Ejecutor:"),l.Yb(),l.Ub(30,"br"),l.Nc(31),l.Ub(32,"br"),l.Yb(),l.Yb(),l.Zb(33,"div",7),l.Zb(34,"address"),l.Zb(35,"strong"),l.Nc(36,"Estado de la Orden:"),l.Yb(),l.Ub(37,"br"),l.Nc(38),l.Ub(39,"br"),l.Yb(),l.Zb(40,"address"),l.Zb(41,"strong"),l.Nc(42,"Nombre del ET:"),l.Yb(),l.Ub(43,"br"),l.Nc(44),l.Ub(45,"br"),l.Yb(),l.Zb(46,"address"),l.Zb(47,"strong"),l.Nc(48,"Codigo Del Equipo:"),l.Yb(),l.Ub(49,"br"),l.Nc(50),l.Ub(51,"br"),l.Yb(),l.Zb(52,"address"),l.Zb(53,"strong"),l.Nc(54,"Descripcion del equipo:"),l.Yb(),l.Ub(55,"br"),l.Nc(56),l.Ub(57,"br"),l.Yb(),l.Zb(58,"address"),l.Zb(59,"strong"),l.Nc(60,"Descripcion Ubicaci\xf3n tecnica:"),l.Yb(),l.Ub(61,"br"),l.Nc(62),l.Ub(63,"br"),l.Yb(),l.Zb(64,"address"),l.Zb(65,"strong"),l.Nc(66,"Clasificaci\xf3n:"),l.Yb(),l.Ub(67,"br"),l.Nc(68),l.Ub(69,"br"),l.Yb(),l.Yb(),l.Yb(),l.Zb(70,"div",5),l.Zb(71,"div",6),l.Zb(72,"address"),l.Zb(73,"strong"),l.Nc(74,"Detalle:"),l.Yb(),l.Ub(75,"br"),l.Nc(76),l.Ub(77,"br"),l.Yb(),l.Zb(78,"address"),l.Zb(79,"strong"),l.Nc(80,"Costo planeado:"),l.Yb(),l.Ub(81,"br"),l.Nc(82),l.mc(83,"currency"),l.Ub(84,"br"),l.Yb(),l.Zb(85,"address"),l.Zb(86,"strong"),l.Nc(87,"Beneficio Cualitativo:"),l.Yb(),l.Ub(88,"br"),l.Nc(89),l.Ub(90,"br"),l.Yb(),l.Zb(91,"address"),l.Zb(92,"strong"),l.Nc(93,"Beneficio Cuantitativo $:"),l.Yb(),l.Ub(94,"br"),l.Nc(95),l.mc(96,"currency"),l.Ub(97,"br"),l.Yb(),l.Yb(),l.Zb(98,"div",7),l.Zb(99,"address"),l.Zb(100,"strong"),l.Nc(101,"Paso EI:"),l.Yb(),l.Ub(102,"br"),l.Nc(103),l.Ub(104,"br"),l.Yb(),l.Zb(105,"address"),l.Zb(106,"strong"),l.Nc(107,"Norma de liquidaci\xf2n:"),l.Yb(),l.Ub(108,"br"),l.Nc(109),l.Ub(110,"br"),l.Yb(),l.Zb(111,"address"),l.Zb(112,"strong"),l.Nc(113,"Clase de actividad:"),l.Yb(),l.Ub(114,"br"),l.Nc(115),l.Ub(116,"br"),l.Ub(117,"br"),l.Yb(),l.Zb(118,"address"),l.Zb(119,"strong"),l.Nc(120,"Fecha inicio y fin de la mejora:"),l.Yb(),l.Ub(121,"br"),l.Nc(122),l.mc(123,"date"),l.Zb(124,"b"),l.Nc(125,"-"),l.Yb(),l.Nc(126),l.mc(127,"date"),l.Ub(128,"br"),l.Ub(129,"br"),l.Yb(),l.Yb(),l.Yb(),l.Lc(130,w,9,2,"div",8),l.Ub(131,"div",9),l.Yb()),2&e){const e=l.lc();l.Fb(7),l.Pc(" ",e.OrderData.ordenMantenimiento,""),l.Fb(6),l.Pc(" ",e.OrderData.nombreProponente,""),l.Fb(6),l.Pc(" ",e.OrderData.nombreAsignado,""),l.Fb(6),l.Pc(" ",e.OrderData.responsableDelPuestoDetrabajo,""),l.Fb(6),l.Pc(" ",e.OrderData.responsableEjecutor,""),l.Fb(7),l.Pc(" ",e.OrderData.nombreEstado," "),l.Fb(6),l.Pc(" ",e.OrderData.nombreDelPet," "),l.Fb(6),l.Pc(" ",e.OrderData.codigoDelEquipo," "),l.Fb(6),l.Pc(" ",e.OrderData.descripcionDelEquipo,""),l.Fb(6),l.Pc(" ",e.OrderData.ubicacionTecnica,""),l.Fb(6),l.Pc(" ",e.OrderData.nombreClasificacion,""),l.Fb(8),l.Pc(" ",e.OrderData.descripcion,""),l.Fb(6),l.Pc(" ",l.oc(83,21,e.OrderData.costoPlaneado,"COP"),""),l.Fb(7),l.Pc(" ",e.OrderData.beneficioCualitativo,""),l.Fb(6),l.Pc(" ",l.oc(96,24,e.OrderData.beneficioCuantitativo,"COP"),""),l.Fb(8),l.Pc(" ",e.OrderData.pasoTPM,""),l.Fb(6),l.Pc(" ",e.OrderData.codigoNormaDeLiquidacion,""),l.Fb(6),l.Pc(" ",e.OrderData.nombreClaseActividad,""),l.Fb(7),l.Pc(" ",l.oc(123,27,e.OrderData.fechaInicio,"dd/MM/yyyy")," "),l.Fb(4),l.Pc(" ",l.oc(127,30,e.OrderData.fechaFin,"dd/MM/yyyy")," "),l.Fb(4),l.rc("ngIf",e.OrderData.estado<6&&1==e.OrderData.puedeAprobar)}}let z=(()=>{class e{constructor(e,t,a,i,o){this.route=e,this.authService=t,this.authorizationService=a,this._router=i,this.dialog=o,this.OrderData={},this.UsersStatus=[],this.StatusData=[],this.alive=!0,this.loading=!1}ngOnInit(){try{this.route.paramMap.subscribe(e=>{this.getOrderZMEJjById(e.get("id"))})}catch(e){console.log(e)}}getOrderZMEJjById(e){try{this.loading=!0,this.authorizationService.get("api/OrderZMEJ/OrderDetails/"+e).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.loading=!1,this.OrderData=e.body,this.GetAllLowStatusCode(),this.GetAllUserByStatusCode(),this.GetAllClasificacion()})}catch(t){this.loading=!1,console.log(t)}}GetAllClasificacion(){try{this.authorizationService.get("ZMEJ.api/clasificacion/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ClasificacionData=e.body})}catch(e){console.log(e)}}GetAllLowStatusCode(){try{this.loading=!0,this.UsersStatus=[],this.authorizationService.get("ZMEJ.api/StatusCode/getAllLow/"+this.OrderData.estado).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.StatusData=e.body,this.loading=!1},e=>{this.loading=!1})}catch(e){this.loading=!1}}GetAllUserByStatusCode(){try{this.loading=!0,this.UsersStatus=[],this.authorizationService.get("api/RoleStatusCode/getUserByCode/"+(this.OrderData.estado+1)+"/"+Y.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatus=e.body,this.loading=!1},e=>{this.loading=!1})}catch(e){this.loading=!1}}openOrderZMEJConfirm(e){this.dialog.open(Z,{width:"500px",data:{vData:{title:"Aprobar la orden: "+this.OrderData.nombre,usersStatus:this.UsersStatus,AsignadoA:"",observacion:""}}}).afterClosed().subscribe(e=>{e&&(e.id=this.OrderData.id,this.SendOrderZMEJAproved(e))})}openClasificacionConfirm(e){this.dialog.open(E,{width:"500px",data:{vData:{title:"Asignar clasificaci\xf3n: "+this.OrderData.nombre,ClasificacionData:this.ClasificacionData}}}).afterClosed().subscribe(e=>{e&&(e.id=this.OrderData.id,this.SendClasificacionZMEJ(e))})}openOrderEspacioMantenimiento(){this.dialog.open(S,{width:"500px",data:{vData:{id:"",evidencia:"",ordenmantenimiento:"0",tipodetrabajo:"",nota:""}}}).afterClosed().subscribe(e=>{e&&(e.id=this.OrderData.id,this.SendEspacioMantenimiento(e))})}openOrderZMEJReject(){this.dialog.open(O,{width:"500px",data:{vData:{title:"Rechazar la orden: "+this.OrderData.nombre,usersStatus:[],Estado:"",statusData:this.StatusData,AsignadoA:"",observacion:""}}}).afterClosed().subscribe(e=>{e&&(e.id=this.OrderData.id,this.SendOrderZMEJReject(e))})}SendOrderZMEJReject(e){try{this.authorizationService.post("api/OrderZMEJ/reject",e).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{200==e.status?this.getOrderZMEJjById(this.OrderData.id):console.log(e.error)},e=>{})}catch(t){}}SendOrderZMEJAproved(e){try{this.loading=!0,this.authorizationService.post("api/OrderZMEJ/aproved",e).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{200==e.status?this.getOrderZMEJjById(this.OrderData.id):(this.loading=!1,console.log(e.error))},e=>{this.loading=!1})}catch(t){this.loading=!1}}SendClasificacionZMEJ(e){try{this.loading=!0,this.authorizationService.post("ZMEJ.api/OrderZMEJ/classification",e).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{},e=>{this.loading=!1})}catch(t){this.loading=!1}}SendEspacioMantenimiento(e){try{this.authorizationService.put("ZMEJ.api/OrderZMEJ/UpdateOM",e).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{console.log(e),200==e.status?this.getOrderZMEJjById(this.OrderData.id):console.log(e.error)},e=>{})}catch(t){}}LoadingAnimation(){this.loading=!0,setTimeout(()=>this.loading=!1,3e3)}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(o.a),l.Tb(c.b),l.Tb(c.c),l.Tb(o.f),l.Tb(n.b))},e.\u0275cmp=l.Nb({type:e,selectors:[["ngx-orderzmej"]],decls:9,vars:2,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],["class","pull-right",4,"ngIf"],[4,"ngIf"],[1,"pull-right"],[1,"row"],[1,"col-md-6","col-xxxl-4"],[1,"col-md-6","col-xxxl-4","text-right"],["class","buttons-row",4,"ngIf"],[1,"buttons-row"],["fxFlex","10","fxFlex.lt-sm","100"],["mat-raised-button","","color","primary",1,"m-t-8",3,"click"],["mat-raised-button","","color","warn",1,"m-t-8",3,"click"],["fxFlex","50","fxFlex.lt-sm","100",4,"ngIf"],["fxFlex","20","fxFlex.lt-sm","100",4,"ngIf"],["fxFlex","50","fxFlex.lt-sm","100"],["fxFlex","20","fxFlex.lt-sm","100"]],template:function(e,t){1&e&&(l.Ub(0,"page-header"),l.Zb(1,"div",0),l.Zb(2,"div",1),l.Zb(3,"mat-card"),l.Zb(4,"mat-card-title"),l.Zb(5,"h2"),l.Nc(6,"Detalle de la orden: \xa0\xa0"),l.Yb(),l.Lc(7,j,2,1,"h3",2),l.Yb(),l.Lc(8,L,132,33,"div",3),l.Yb(),l.Yb(),l.Yb()),2&e&&(l.Fb(7),l.rc("ngIf",t.OrderData&&null!=t.OrderData),l.Fb(1),l.rc("ngIf",t.OrderData&&null!=t.OrderData&&0==t.loading))},directives:[P.a,x.c,x.a,q.a,q.c,m.n,h.b],pipes:[m.d,m.f],styles:[".name[_ngcontent-%COMP%]{font-size:30px;border-bottom:2px solid #888;margin-bottom:20px}.name[_ngcontent-%COMP%]:first-letter{font-size:300%}.label[_ngcontent-%COMP%]{width:70px;font-weight:700}.email[_ngcontent-%COMP%], .label[_ngcontent-%COMP%], .mobile[_ngcontent-%COMP%], .phone[_ngcontent-%COMP%]{display:inline-block}.details-td[_ngcontent-%COMP%]{border-right:1px solid #eee;white-space:nowrap;padding:20px 30px 20px 20px}.description-td[_ngcontent-%COMP%]{position:relative;width:100%;padding:20px 30px;text-align:justify;margin-top:15px}.description[_ngcontent-%COMP%]{outline:0 solid transparent;border:0 solid transparent}.edit[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:13px;height:13px;cursor:pointer}.invoice-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoice-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-top:none}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-bottom:none}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .thick-line[_ngcontent-%COMP%]{border-top:2px solid}form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}"]}),e})();var J=a("M0ag"),G=a("hGDI");function R(e,t){if(1&e&&(l.Zb(0,"mat-option",8),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.sc("value",e.code),l.Fb(1),l.Oc(e.name)}}const k=function(){return[5,10,20]};let _=(()=>{class e{constructor(e,t,a,i,o,r,c){this.authService=e,this.authorizationService=t,this.pagerService=a,this.datePipe=i,this.currencyPipe=o,this._router=r,this.cdr=c,this.FlujoData=[],this.columnNames=["Clasificacion","Valor"],this.isAuthenticated=!1,this.alive=!0,this.columns=[{header:"Orden",field:"ordenMantenimiento",width:"100px"},{header:"Nombre",field:"Nombre",formatter:e=>`<span class="sortable" (click)="viewOrderzmejDetail(${e.id})">${e.nombre}</span>`},{header:"ET",field:"nombreDelPet"},{header:"Costo Real",field:"costoReal",formatter:e=>""+this.currencyPipe.transform(e.costoReal,"","symbol","1.0-0")},{header:"Costo Planeado",field:"costoPlaneado",formatter:e=>""+this.currencyPipe.transform(e.costoPlaneado,"","symbol","1.0-0")},{header:"Costo Comprometido",field:"valComprometido",formatter:e=>""+this.currencyPipe.transform(e.valComprometido,"","symbol","1.0-0")},{header:"Estado",field:"nombreEstado"},{header:"Clasificaci\xf3n",field:"nombreClasificacion"},{header:"Fecha de inicio",field:"fechaInicio",formatter:e=>""+this.datePipe.transform(e.fechaInicio,"dd/MM/yyyy")},{header:"codigo del equipo",field:"codigoDelEquipo"},{header:"Descripcion del equipo",field:"descripcionDelEquipo"},{header:"Option",field:"option",width:"120px",pinned:"right",right:"0px",type:"button",buttons:[{type:"icon",text:"Ver detalle",icon:"visibility",tooltip:"Ver detalle",click:e=>this.viewOrderzmejDetail(e)},{icon:"edit",tooltip:"Editar",type:"icon",click:e=>this.EditOrderzmejDetail(e)}]}],this.List=[],this.total=0,this.isLoading=!0,this.query={q:"",sort:"stars",name:"0",page:0,per_page:10},this.isAuthenticated=!0,this.GetAllOrderZMEJ(),this.GetAllStatusCode(),e.isLoggedIn()}get params(){const e=Object.assign({},this.query);return e.page+=1,Object(J.a)(e)}ngOnInit(){}getNextPage(e){this.query.page=e.pageIndex,this.query.per_page=e.pageSize,this.setPage()}GetAllOrderZMEJ(){try{this.List=[],this.total=0,this.authorizationService.get("zmej.api/OrderZMEJ/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.OrderData=e.body,null!=this.OrderData&&(this.setPage(),this.total=this.OrderData.length,this.cdr.detectChanges()),this.isLoading=!1})}catch(e){console.log(e)}}addOrderzmej(e){null==e&&this._router.navigate(["/ordenes/create-zmej"])}viewOrderzmejDetail(e){console.log(e),null!=e&&this._router.navigate(["/ordenes/order-zmej-details/"+e.id])}EditOrderzmejDetail(e){null!=e&&this._router.navigate(["/ordenes/edit-zmej/"+e.id])}GetAllStatusCode(){try{this.authorizationService.get("zmej.api/statuscode/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.FlujoData=e.body})}catch(e){console.log(e)}}setPage(){let e=this.pagerService.getPager(this.OrderData.length,this.query.page+1,this.query.per_page);this.List=this.OrderData.slice(e.startIndex,e.endIndex+1)}search(){this.query.page=0,console.log(this.query),console.log(this.params);try{this.List=[],this.authorizationService.post("zmej.api/OrderZMEJ/FilterOrder",{Name:this.query.q,id:this.query.name}).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.OrderData=e.body,null!=this.OrderData&&(this.setPage(),this.total=this.OrderData.length,this.cdr.detectChanges()),this.isLoading=!1})}catch(e){this.List=[],console.log(e)}}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(c.b),l.Tb(c.c),l.Tb(c.e),l.Tb(m.f),l.Tb(m.d),l.Tb(o.f),l.Tb(l.h))},e.\u0275cmp=l.Nb({type:e,selectors:[["ngx-orderzmej"]],decls:13,vars:12,consts:[[1,"bg-blue-600"],[1,"m-r-8"],["matInput","","name","q","placeholder","Buscar por nombre",3,"ngModel","ngModelChange"],["name","order","placeholder","Filtrar por estado",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"m-r-8",3,"click"],[3,"data","columns","length","loading","pageOnFront","pageIndex","pageSize","pageSizeOptions","page"],[3,"value"]],template:function(e,t){1&e&&(l.Ub(0,"page-header",0),l.Zb(1,"form"),l.Zb(2,"mat-form-field",1),l.Zb(3,"input",2),l.hc("ngModelChange",(function(e){return t.query.q=e})),l.Yb(),l.Yb(),l.Zb(4,"mat-form-field",1),l.Zb(5,"mat-select",3),l.hc("ngModelChange",(function(e){return t.query.name=e})),l.Ub(6,"mat-option",4),l.Lc(7,R,2,2,"mat-option",5),l.Yb(),l.Yb(),l.Zb(8,"button",6),l.hc("click",(function(){return t.search()})),l.Nc(9,"Buscar"),l.Yb(),l.Zb(10,"button",6),l.hc("click",(function(){return t.addOrderzmej(null)})),l.Nc(11,"Crear nueva orden"),l.Yb(),l.Yb(),l.Zb(12,"mtx-grid",7),l.hc("page",(function(e){return t.getNextPage(e)})),l.Yb()),2&e&&(l.Fb(3),l.rc("ngModel",t.query.q),l.Fb(2),l.rc("ngModel",t.query.name),l.Fb(2),l.rc("ngForOf",t.FlujoData),l.Fb(5),l.rc("data",t.List)("columns",t.columns)("length",t.total)("loading",t.isLoading)("pageOnFront",!1)("pageIndex",t.query.page)("pageSize",t.query.per_page)("pageSizeOptions",l.tc(11,k)))},directives:[P.a,s.x,s.q,s.r,b.c,u.b,s.c,s.p,s.s,d.a,p.n,m.m,h.b,G.a],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),e})();var B=a("ihCf"),V=a("YKwE");let $=(()=>{class e{constructor(e,t,a,i){this.el=e,this.currencyPipe=t,this.renderer=a,this.locale=i,this.currencyCode="USD",this.allowNegative=!1,this.regex={positiveDecimal:new RegExp(/^\d*[\.|,]?\d*$/g),allDecimal:new RegExp(/^-?\d*[\.|,]?\d*$/g)},this.specialKeys=["Backspace","Delete","ArrowLeft","ArrowRight","Del"]}ngAfterViewInit(){this.el.nativeElement.value=this.currencyPipe.transform(this.el.nativeElement.value,this.currencyCode)}onFocus(){this.el.nativeElement.value=this.el.nativeElement.value.replace(/[^\d.,-]/g,""),this.el.nativeElement.select()}onFocusout(){let e=this.el.nativeElement.value;(0===e.length||1===e.length&&[",",".",""].indexOf(e[0])>-1)&&(e="0"),this.el.nativeElement.value=this.currencyPipe.transform(e,this.currencyCode)}onKeyDown(e){-1===this.specialKeys.indexOf(e.key)&&(e.key.match(this.allowNegative?this.regex.allDecimal:this.regex.positiveDecimal)||e.preventDefault())}onBlur(e){const t=function(e,t){const a=new Intl.NumberFormat(t).format(1111).replace(/1/g,""),i=new Intl.NumberFormat(t).format(1.1).replace(/1/g,"");let o=e.replace(new RegExp("\\"+a,"g"),"");o=o.replace(new RegExp("\\"+i,"g"),".");const r=o.replace(/[^\d.-]/g,"");return Number.isNaN(r)?0:r}(this.el.nativeElement.value,this.locale).replace(/^[^0-9]{2}..*/g,"");this.el.nativeElement.value=t}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(l.l),l.Tb(m.d),l.Tb(l.G),l.Tb(l.w))},e.\u0275dir=l.Ob({type:e,selectors:[["","mvndrMatCurrencyFormat",""]],hostBindings:function(e,t){1&e&&l.hc("focus",(function(){return t.onFocus()}))("focusout",(function(){return t.onFocusout()}))("keydown",(function(e){return t.onKeyDown(e)}))("blur",(function(){return t.onBlur()}))},inputs:{currencyCode:"currencyCode",allowNegative:"allowNegative"},features:[l.Eb([m.d])]}),e})(),H=(()=>{class e{}return e.\u0275mod=l.Rb({type:e}),e.\u0275inj=l.Qb({factory:function(t){return new(t||e)},imports:[[]]}),e})();var K=a("iadO"),Q=a("bSwM");function X(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"ingrese un nombre "),l.Yb())}function W(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"ingrese un nombre "),l.Yb())}function ee(e,t){if(1&e&&(l.Zb(0,"mat-option",52),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.sc("value",e.id),l.Fb(1),l.Oc(e.fullName)}}function te(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"seleccione un proponente "),l.Yb())}function ae(e,t){if(1&e&&(l.Zb(0,"mat-option",52),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.sc("value",e.id),l.Fb(1),l.Oc(e.fullName)}}function ie(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione una persona"),l.Yb())}function oe(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione un pet "),l.Yb())}function re(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione un paso tpm "),l.Yb())}function ce(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione un responsable "),l.Yb())}function ne(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"este campo es requerido"),l.Yb())}function se(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione un equipo "),l.Yb())}function le(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"selecione una opcion "),l.Yb())}function be(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"ingrese un nombre "),l.Yb())}function de(e,t){if(1&e&&(l.Zb(0,"mat-option",52),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.sc("value",e.id),l.Fb(1),l.Oc(e.nombre)}}function me(e,t){1&e&&l.Ub(0,"mat-error")}function ue(e,t){1&e&&l.Ub(0,"mat-error")}function he(e,t){1&e&&l.Ub(0,"mat-error")}function pe(e,t){1&e&&l.Ub(0,"mat-error")}function fe(e,t){1&e&&l.Ub(0,"mat-error")}function ge(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione una fecha "),l.Yb())}function ve(e,t){if(1&e&&(l.Zb(0,"mat-option",52),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Fb(1),l.Oc(e.descripcion)}}function Ze(e,t){if(1&e&&(l.Zb(0,"mat-option",52),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Fb(1),l.Oc(e.descripcion)}}function Ye(e,t){if(1&e&&(l.Zb(0,"mat-option",52),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Fb(1),l.Oc(e.nombre)}}function Ce(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione una clasifica\xf3n"),l.Yb())}function Ne(e,t){if(1&e&&(l.Zb(0,"li",56),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.Fb(1),l.Oc(e)}}function De(e,t){if(1&e&&(l.Zb(0,"div",53),l.Zb(1,"ul",54),l.Lc(2,Ne,2,1,"li",55),l.Yb(),l.Yb()),2&e){const e=l.lc();l.Fb(2),l.rc("ngForOf",e.errors)}}const Fe=function(){return[]};let Oe=(()=>{class e{constructor(e,t,a,i,o){this.fb=e,this.authService=t,this.authorizationService=a,this.router=i,this.dateAdapter=o,this.isAuthenticated=!1,this.orderZMEJ={},this.errors=[],this.showMessages={},this.NormaDeLiquidacionData=[],this.maquinasData=[],this.ubcacionTecnicaData=[],this.submitted=!1,this.alive=!0,this.ubicacionTecnica="",this.codigoDelEquipo="",this.costoTotal=0,this.LineaData=[],this.HornoData=[],this.vHornoResultData=[],this.ClasificacionData=[],this.usAmount=0,this.dateAdapter.setLocale("en-GB"),this.showMessages={success:!0,error:!0},this.reactiveForm2=this.fb.group({nombre:["",[s.w.required]],descripcion:["",[s.w.required]],proponente:["",[s.w.required]],AsignadoA:["",[s.w.required]],nombreDelPet:["",[s.w.required]],pasoTPM:["",[s.w.required]],responsableDelPuestoDetrabajo:["",[s.w.required]],responsableEjecutor:["",[s.w.required]],codigoDelEquipo:["",[s.w.required]],descripcionDelEquipo:[""],ubicacionTecnica:["",[s.w.required]],descripcionDeUbicacionTecnica:[""],NormaDeLiquidacionId:["1"],CodigoNormaDeLiquidacion:["",[s.w.required]],claseDeActividadID:["",[s.w.required]],costomaterial:["0"],costomanodeobra:["0"],costoservicios:["0"],beneficioCualitativo:[""],beneficioCuantitativo:[0,[s.w.required]],duraciondelTrabajo:["0",[s.w.required]],fechaInicio:["",[s.w.required]],pregunta1:"",pregunta2:"",pregunta3:"",linea:"",horno:"",clasificacion:0,enviarCorreo:!1}),t.isLoggedIn()&&(this.isAuthenticated=!0,this.GetAllClaseDeActividad(),this.GetAllNormaDeLiquidacion(),this.GetAllUserValidador(),this.GetAllProponente(),this.GetAllMaquinas(),this.GetAllPets(),this.GetAllPuestoDeTrabajos(),this.GetAllUbicacionTecnica(),this.GetAllGrupoPlanificador(),this.GetAllResCrontrolProd(),this.GetAllClasificacion())}ngOnInit(){}GetAllGrupoPlanificador(){this.authorizationService.get("zmej.api/grupoPlanificador/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.HornoData=e.body},e=>{})}GetAllClasificacion(){try{this.authorizationService.get("ZMEJ.api/clasificacion/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ClasificacionData=e.body})}catch(e){console.log(e)}}GetAllResCrontrolProd(){this.authorizationService.get("zmej.api/resctrlproduccion/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.LineaData=e.body},e=>{})}GetAllUserValidador(){try{this.authorizationService.get("api/RoleStatusCode/getUserByCode/2/"+Y.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatus=e.body},e=>{})}catch(e){}}GetAllProponente(){this.authorizationService.get("api/RoleStatusCode/getUserByCode/1/"+Y.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatusProponente=e.body},e=>{})}GetAllNormaDeLiquidacion(){this.authorizationService.get("ZMEJ.api/NormaDeLiquidacion/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.NormaDeLiquidacionData=e.body},e=>{})}GetAllClaseDeActividad(){this.authorizationService.get("ZMEJ.api/ClaseDeActividad/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ClaseDeActividad=e.body},e=>{})}GetAllPets(){this.authorizationService.get("maestrassip.api/pets/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.petsData=e.body},e=>{})}GetAllMaquinas(){this.maquinasData=[],this.authorizationService.get("zmej.api/maquinas/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.maquinasData=e.body},e=>{})}GetAllUbicacionTecnica(){this.authorizationService.get("zmej.api/ubicacionTecnica/getallactive").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ubcacionTecnicaData=e.body},e=>{})}GetAllPuestoDeTrabajos(){this.authorizationService.get("zmej.api/puestodetrabajo/getallactive").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.puestodetrabajoData=e.body},e=>{})}onSubmitOrderzmej(){this.errors=[],this.messages=[],this.submitted=!0;try{this.authorizationService.post("api/OrderZMEJ/save",this.reactiveForm2.value).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{200==e.status?(this.messages[0]="datos guardados correctamente",setTimeout(()=>this.router.navigateByUrl("/ordenes/zmej"),this.redirectDelay)):(this.submitted=!1,this.errors[0]=e.error,console.log(e.error))},e=>{this.submitted=!1,this.errors=e})}catch(e){console.log(e),this.submitted=!1}}onChangeUbicacion(e){try{this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue("");let t=this.ubcacionTecnicaData.filter(t=>t.ubicacion===e);null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue(t[0].descripcion))}catch(t){console.log("error en ubicacion tecnica")}}onChangeMaquina(e){try{this.reactiveForm2.controls.descripcionDelEquipo.setValue("");let t=this.maquinasData.filter(t=>t.maquina===e);null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDelEquipo.setValue(t[0].descripcion))}catch(t){console.log("error en onChangeMaquina ")}}onChangeLinea(e){try{this.reactiveForm2.controls.horno.setValue(""),this.vHornoResultData=this.HornoData.filter(t=>t.resControlProdId===e)}catch(t){}}changeCosto(e){try{let e=this.reactiveForm2.get("costoservicios"),t=this.reactiveForm2.get("costomanodeobra"),a=this.reactiveForm2.get("costomaterial");this.costoTotal=+e.value+ +t.value+ +a.value}catch(t){}}updateUSAmount(e){this.usAmount=e.target.value}setDate(){try{let e=this.reactiveForm2.get("fechaInicio").value,t=+this.reactiveForm2.get("duraciondelTrabajo").value,a=new Date(e);this.fechaFinal=this.addDays(a,t)}catch(e){}}addDays(e,t){return e.setDate(e.getDate()+t),e}addEvent(e,t){this.setDate()}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(s.e),l.Tb(c.b),l.Tb(c.c),l.Tb(o.f),l.Tb(p.c))},e.\u0275cmp=l.Nb({type:e,selectors:[["ngx-orderzmej"]],decls:205,vars:55,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],[1,"form-field-full",3,"formGroup","ngSubmit"],["form","ngForm"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],["matInput","","placeholder","nombre de la propuesta","formControlName","nombre","required",""],[4,"ngIf"],["matInput","","cdkTextareaAutosize","","formControlName","descripcion","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["required","","formControlName","proponente","required",""],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","AsignadoA","required",""],["bindLabel","descripcion","bindValue","descripcion","autofocus","","formControlName","nombreDelPet",3,"items"],["required","","formControlName","pasoTPM","required",""],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["bindLabel","fullDescripcion","bindValue","fullDescripcion","autofocus","","formControlName","responsableDelPuestoDetrabajo",3,"items"],["matInput","","placeholder","Simple placeholder","type","text","formControlName","responsableEjecutor","required",""],["bindLabel","fullDescripcion","bindValue","maquina","autofocus","","formControlName","codigoDelEquipo",3,"items","ngModelChange"],["bindLabel","fullDescripcion","o","","bindValue","fullDescripcion","autofocus","","formControlName","ubicacionTecnica",3,"items","ngModel","ngModelChange"],["matInput","","placeholder","nombre","formControlName","CodigoNormaDeLiquidacion","required",""],["required","","formControlName","claseDeActividadID","required",""],["fxFlex","20","fxFlex.lt-sm","100"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomaterial","mvndrMatCurrencyFormat","","required","",3,"allowNegative","currencyCode","change"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomanodeobra","mvndrMatCurrencyFormat","","required","",3,"allowNegative","currencyCode","change"],["matInput","","placeholder","Costo Material","type","text","formControlName","costoservicios","mvndrMatCurrencyFormat","","required","",3,"allowNegative","currencyCode","change"],["matInput","","mvndrMatCurrencyFormat","","readonly","",3,"value","allowNegative","currencyCode"],["fxFlex","33.3","fxFlex.lt-sm","100"],["formControlName","pregunta1"],["value","Si"],["value","No"],["formControlName","pregunta2"],["formControlName","pregunta3"],["matInput","","cdkTextareaAutosize","","formControlName","beneficioCualitativo","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["matInput","","placeholder","beneficioCuantitativo","type","text","mvndrMatCurrencyFormat","","formControlName","beneficioCuantitativo","required","",3,"allowNegative","currencyCode"],["matInput","","placeholder","","formControlName","duraciondelTrabajo","required","",3,"change"],["matInput","","placeholder","Fecha de inicio","formControlName","fechaInicio",3,"matDatepicker","change","dateChange"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","",3,"value"],["formControlName","linea",3,"ngModelChange"],["formControlName","horno"],["formControlName","clasificacion"],["id","amateur","color","primary","formControlName","enviarCorreo",1,"amateur"],["mat-raised-button","","color","primary",1,"m-t-8",3,"disabled"],["class","m-t-16","outline","danger",4,"ngIf"],[3,"value"],["outline","danger",1,"m-t-16"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"]],template:function(e,t){if(1&e&&(l.Ub(0,"page-header"),l.Zb(1,"div",0),l.Zb(2,"div",1),l.Zb(3,"mat-card"),l.Zb(4,"mat-card-title"),l.Nc(5,"Crear Orden"),l.Yb(),l.Zb(6,"form",2,3),l.hc("ngSubmit",(function(){return t.onSubmitOrderzmej()})),l.Zb(8,"div",4),l.Zb(9,"div",5),l.Zb(10,"mat-form-field"),l.Zb(11,"mat-label"),l.Nc(12,"NOMBRE DE LA PROPUESTA"),l.Yb(),l.Ub(13,"input",6),l.Lc(14,X,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(15,"div",5),l.Zb(16,"mat-form-field"),l.Zb(17,"mat-label"),l.Nc(18,"DESCRIPCION DETALLADA DE LA PROPUESTA"),l.Yb(),l.Ub(19,"textarea",8),l.Lc(20,W,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(21,"div",5),l.Zb(22,"mat-form-field"),l.Zb(23,"mat-label"),l.Nc(24,"PROPONENTE"),l.Yb(),l.Zb(25,"mat-select",9),l.Lc(26,ee,2,2,"mat-option",10),l.Yb(),l.Lc(27,te,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(28,"div",5),l.Zb(29,"mat-form-field"),l.Zb(30,"mat-label"),l.Nc(31,"JEFE DE MANTENIMIENTO"),l.Yb(),l.Zb(32,"mat-select",11),l.Lc(33,ae,2,2,"mat-option",10),l.Yb(),l.Lc(34,ie,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(35,"div",5),l.Zb(36,"mat-form-field"),l.Zb(37,"mat-label"),l.Nc(38,"Nombre ET"),l.Yb(),l.Ub(39,"mtx-select",12),l.Lc(40,oe,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(41,"div",5),l.Zb(42,"mat-form-field"),l.Zb(43,"mat-label"),l.Nc(44,"PASO TPM"),l.Yb(),l.Zb(45,"mat-select",13),l.Zb(46,"mat-option",14),l.Nc(47,"0"),l.Yb(),l.Zb(48,"mat-option",15),l.Nc(49,"1"),l.Yb(),l.Zb(50,"mat-option",16),l.Nc(51,"2"),l.Yb(),l.Zb(52,"mat-option",17),l.Nc(53,"3"),l.Yb(),l.Zb(54,"mat-option",18),l.Nc(55,"4"),l.Yb(),l.Zb(56,"mat-option",19),l.Nc(57,"5"),l.Yb(),l.Zb(58,"mat-option",20),l.Nc(59,"6"),l.Yb(),l.Zb(60,"mat-option",21),l.Nc(61,"7"),l.Yb(),l.Yb(),l.Lc(62,re,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(63,"div",5),l.Zb(64,"mat-form-field"),l.Zb(65,"mat-label"),l.Nc(66,"JEFE DE L\xcdNEA"),l.Yb(),l.Ub(67,"mtx-select",22),l.Lc(68,ce,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(69,"div",5),l.Zb(70,"mat-form-field"),l.Zb(71,"mat-label"),l.Nc(72,"RESPONSABLE DE EJECUTAR"),l.Yb(),l.Ub(73,"input",23),l.Lc(74,ne,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(75,"div",5),l.Zb(76,"mat-form-field"),l.Zb(77,"mat-label"),l.Nc(78,"CODIGO DEL EQUIPO"),l.Yb(),l.Zb(79,"mtx-select",24),l.hc("ngModelChange",(function(e){return t.onChangeMaquina(e)})),l.Yb(),l.Lc(80,se,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(81,"div",5),l.Zb(82,"mat-form-field"),l.Zb(83,"mat-label"),l.Nc(84,"UBICACI\xd3N TECNICA"),l.Yb(),l.Zb(85,"mtx-select",25),l.hc("ngModelChange",(function(e){return t.onChangeUbicacion(e)}))("ngModelChange",(function(e){return t.ubicacionTecnica=e})),l.Yb(),l.Lc(86,le,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(87,"div",5),l.Zb(88,"mat-form-field"),l.Zb(89,"mat-label"),l.Nc(90,"# CeCo"),l.Yb(),l.Ub(91,"input",26),l.Lc(92,be,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(93,"div",5),l.Zb(94,"mat-form-field"),l.Zb(95,"mat-label"),l.Nc(96,"CLASE DE ACTIVIDAD"),l.Yb(),l.Zb(97,"mat-select",27),l.Lc(98,de,2,2,"mat-option",10),l.Yb(),l.Lc(99,me,1,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(100,"div",28),l.Zb(101,"mat-form-field"),l.Zb(102,"mat-label"),l.Nc(103,"Costo Material"),l.Yb(),l.Zb(104,"input",29),l.hc("change",(function(e){return t.changeCosto(e)})),l.Yb(),l.Lc(105,ue,1,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(106,"div",28),l.Zb(107,"mat-form-field"),l.Zb(108,"mat-label"),l.Nc(109,"Costo Mano de Obra"),l.Yb(),l.Zb(110,"input",30),l.hc("change",(function(e){return t.changeCosto(e)})),l.Yb(),l.Lc(111,he,1,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(112,"div",28),l.Zb(113,"mat-form-field"),l.Zb(114,"mat-label"),l.Nc(115,"Costo de Servicios"),l.Yb(),l.Zb(116,"input",31),l.hc("change",(function(e){return t.changeCosto(e)})),l.Yb(),l.Lc(117,pe,1,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(118,"div",28),l.Zb(119,"mat-form-field"),l.Zb(120,"mat-label"),l.Nc(121,"Costo Total"),l.Yb(),l.Ub(122,"input",32),l.Yb(),l.Yb(),l.Zb(123,"div",33),l.Zb(124,"mat-form-field"),l.Zb(125,"mat-label"),l.Nc(126,"Con la mejora quedan repuestos obsoletos?"),l.Yb(),l.Zb(127,"mat-select",34),l.Zb(128,"mat-option",35),l.Nc(129,"SI"),l.Yb(),l.Zb(130,"mat-option",36),l.Nc(131,"No"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(132,"div",33),l.Zb(133,"mat-form-field"),l.Zb(134,"mat-label"),l.Nc(135,"se cambia la planificacion de los repuestos?"),l.Yb(),l.Zb(136,"mat-select",37),l.Zb(137,"mat-option",35),l.Nc(138,"SI"),l.Yb(),l.Zb(139,"mat-option",36),l.Nc(140,"No"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(141,"div",33),l.Zb(142,"mat-form-field"),l.Zb(143,"mat-label"),l.Nc(144,"se matriculan nuevas referencias? "),l.Yb(),l.Zb(145,"mat-select",38),l.Zb(146,"mat-option",35),l.Nc(147,"SI"),l.Yb(),l.Zb(148,"mat-option",36),l.Nc(149,"No"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(150,"div",5),l.Zb(151,"mat-form-field"),l.Zb(152,"mat-label"),l.Nc(153,"BENEFICIO CUALITATIVO"),l.Yb(),l.Ub(154,"textarea",39),l.Yb(),l.Yb(),l.Zb(155,"div",5),l.Zb(156,"mat-form-field"),l.Zb(157,"mat-label"),l.Nc(158,"BENEFICIO CUANTITATIVO $"),l.Yb(),l.Ub(159,"input",40),l.Yb(),l.Yb(),l.Zb(160,"div",33),l.Zb(161,"mat-form-field"),l.Zb(162,"mat-label"),l.Nc(163,"DURACION DEL TRABAJO (DIAS)"),l.Yb(),l.Zb(164,"input",41),l.hc("change",(function(){return t.setDate()})),l.Yb(),l.Lc(165,fe,1,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(166,"div",33),l.Zb(167,"mat-form-field"),l.Zb(168,"input",42),l.hc("change",(function(){return t.setDate()}))("dateChange",(function(e){return t.addEvent("change",e)})),l.Yb(),l.Ub(169,"mat-datepicker-toggle",43),l.Ub(170,"mat-datepicker",null,44),l.Lc(172,ge,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(173,"div",33),l.Zb(174,"mat-form-field"),l.Zb(175,"mat-label"),l.Nc(176,"Fecha Final"),l.Yb(),l.Ub(177,"input",45),l.mc(178,"date"),l.Yb(),l.Yb(),l.Zb(179,"div",33),l.Zb(180,"mat-form-field"),l.Zb(181,"mat-label"),l.Nc(182,"Linea "),l.Yb(),l.Zb(183,"mat-select",46),l.hc("ngModelChange",(function(e){return t.onChangeLinea(e)})),l.Lc(184,ve,2,2,"mat-option",10),l.Yb(),l.Yb(),l.Yb(),l.Zb(185,"div",33),l.Zb(186,"mat-form-field"),l.Zb(187,"mat-label"),l.Nc(188,"Horno "),l.Yb(),l.Zb(189,"mat-select",47),l.Lc(190,Ze,2,2,"mat-option",10),l.Yb(),l.Yb(),l.Yb(),l.Zb(191,"div",33),l.Zb(192,"mat-form-field"),l.Zb(193,"mat-label"),l.Nc(194,"Clasificaci\xf3n"),l.Yb(),l.Zb(195,"mat-select",48),l.Ub(196,"mat-option",14),l.Lc(197,Ye,2,2,"mat-option",10),l.Yb(),l.Lc(198,Ce,2,0,"mat-error",7),l.Yb(),l.Yb(),l.Zb(199,"div",33),l.Zb(200,"mat-checkbox",49),l.Nc(201,"Enviar Correo electronico al Jefe?"),l.Yb(),l.Yb(),l.Yb(),l.Zb(202,"button",50),l.Nc(203,"Crear orden"),l.Yb(),l.Yb(),l.Lc(204,De,3,1,"div",51),l.Yb(),l.Yb(),l.Yb()),2&e){const e=l.Ac(7),a=l.Ac(171);l.Fb(6),l.rc("formGroup",t.reactiveForm2),l.Fb(8),l.rc("ngIf",t.reactiveForm2.get("nombre").invalid),l.Fb(6),l.rc("ngIf",t.reactiveForm2.get("descripcion").invalid),l.Fb(6),l.rc("ngForOf",t.UsersStatusProponente||l.tc(49,Fe)),l.Fb(1),l.rc("ngIf",t.reactiveForm2.get("proponente").invalid),l.Fb(6),l.rc("ngForOf",t.UsersStatus||l.tc(50,Fe)),l.Fb(1),l.rc("ngIf",t.reactiveForm2.get("AsignadoA").invalid),l.Fb(5),l.rc("items",t.petsData),l.Fb(1),l.rc("ngIf",t.reactiveForm2.get("nombreDelPet").invalid),l.Fb(22),l.rc("ngIf",t.reactiveForm2.get("pasoTPM").invalid),l.Fb(5),l.rc("items",t.puestodetrabajoData),l.Fb(1),l.rc("ngIf",t.reactiveForm2.get("responsableDelPuestoDetrabajo").invalid),l.Fb(6),l.rc("ngIf",t.reactiveForm2.get("responsableEjecutor").invalid),l.Fb(5),l.rc("items",t.maquinasData),l.Fb(1),l.rc("ngIf",t.reactiveForm2.get("codigoDelEquipo").invalid),l.Fb(5),l.rc("items",t.ubcacionTecnicaData)("ngModel",t.ubicacionTecnica),l.Fb(1),l.rc("ngIf",t.reactiveForm2.get("ubicacionTecnica").invalid),l.Fb(6),l.rc("ngIf",t.reactiveForm2.get("CodigoNormaDeLiquidacion").invalid),l.Fb(6),l.rc("ngForOf",t.ClaseDeActividad||l.tc(51,Fe)),l.Fb(1),l.rc("ngIf",t.reactiveForm2.get("claseDeActividadID").invalid),l.Fb(5),l.rc("allowNegative","false")("currencyCode","COP"),l.Fb(1),l.rc("ngIf",t.reactiveForm2.get("costomaterial").invalid),l.Fb(5),l.rc("allowNegative","false")("currencyCode","COP"),l.Fb(1),l.rc("ngIf",t.reactiveForm2.get("costomanodeobra").invalid),l.Fb(5),l.rc("allowNegative","false")("currencyCode","COP"),l.Fb(1),l.rc("ngIf",t.reactiveForm2.get("costoservicios").invalid),l.Fb(5),l.rc("value",t.costoTotal)("allowNegative","false")("currencyCode","COP"),l.Fb(37),l.rc("allowNegative","false")("currencyCode","COP"),l.Fb(6),l.rc("ngIf",t.reactiveForm2.get("duraciondelTrabajo").invalid),l.Fb(3),l.rc("matDatepicker",a),l.Fb(1),l.rc("for",a),l.Fb(3),l.rc("ngIf",t.reactiveForm2.get("fechaInicio").invalid),l.Fb(5),l.rc("value",l.oc(178,46,t.fechaFinal,"dd/MM/yyyy")),l.Fb(7),l.rc("ngForOf",t.LineaData||l.tc(52,Fe)),l.Fb(6),l.rc("ngForOf",t.vHornoResultData||l.tc(53,Fe)),l.Fb(7),l.rc("ngForOf",t.ClasificacionData||l.tc(54,Fe)),l.Fb(1),l.rc("ngIf",t.reactiveForm2.get("clasificacion").invalid),l.Fb(4),l.rc("disabled",t.submitted||!e.valid),l.Fb(2),l.rc("ngIf",t.showMessages.error&&(null==t.errors?null:t.errors.length)&&!t.submitted)}},directives:[P.a,x.c,x.a,q.a,q.c,s.x,s.q,s.j,x.d,b.c,b.g,u.b,s.c,s.p,s.h,s.v,m.n,B.b,d.a,m.m,V.a,p.n,$,K.b,K.d,b.i,K.a,Q.a,h.b,b.b],pipes:[m.f],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();function ye(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"ingrese un nombre "),l.Yb())}function Me(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"ingrese un nombre "),l.Yb())}function Ae(e,t){if(1&e&&(l.Zb(0,"mat-option",58),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Fb(1),l.Oc(e.fullName)}}function Ee(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"seleccione un proponente "),l.Yb())}function Ie(e,t){if(1&e&&(l.Zb(0,"mat-option",58),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.code),l.Fb(1),l.Oc(e.name)}}function Se(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"el estado de la orden"),l.Yb())}function Pe(e,t){if(1&e&&(l.Zb(0,"mat-option",58),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Fb(1),l.Oc(e.fullName)}}function xe(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione una persona"),l.Yb())}function qe(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione un pet "),l.Yb())}function je(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione un paso tpm "),l.Yb())}function Te(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione un responsable "),l.Yb())}function Ue(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"este campo es requerido"),l.Yb())}function we(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione un equipo "),l.Yb())}function Le(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"selecione una opcion "),l.Yb())}function ze(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"ingrese un nombre "),l.Yb())}function Je(e,t){if(1&e&&(l.Zb(0,"mat-option",58),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Fb(1),l.Oc(e.nombre)}}function Ge(e,t){1&e&&l.Ub(0,"mat-error")}function Re(e,t){1&e&&l.Ub(0,"mat-error")}function ke(e,t){1&e&&l.Ub(0,"mat-error")}function _e(e,t){1&e&&l.Ub(0,"mat-error")}function Be(e,t){1&e&&l.Ub(0,"mat-error")}function Ve(e,t){1&e&&(l.Zb(0,"mat-error"),l.Nc(1,"Seleccione una fecha "),l.Yb())}function $e(e,t){if(1&e&&(l.Zb(0,"mat-option",58),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Fb(1),l.Oc(e.descripcion)}}function He(e,t){if(1&e&&(l.Zb(0,"mat-option",58),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Fb(1),l.Oc(e.descripcion)}}function Ke(e,t){if(1&e&&(l.Zb(0,"mat-option",58),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Fb(1),l.Oc(e.nombre)}}function Qe(e,t){if(1&e&&(l.Zb(0,"li",62),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.Fb(1),l.Oc(e)}}function Xe(e,t){if(1&e&&(l.Zb(0,"div",59),l.Zb(1,"ul",60),l.Lc(2,Qe,2,1,"li",61),l.Yb(),l.Yb()),2&e){const e=l.lc(2);l.Fb(2),l.rc("ngForOf",e.errors)}}const We=function(){return[]};function et(e,t){if(1&e){const e=l.ac();l.Zb(0,"div"),l.Zb(1,"form",3,4),l.hc("ngSubmit",(function(){return l.Dc(e),l.lc().onSubmitOrderzmej()})),l.Zb(3,"div",5),l.Zb(4,"div",6),l.Zb(5,"mat-form-field"),l.Zb(6,"mat-label"),l.Nc(7,"NOMBRE DE LA PROPUESTA"),l.Yb(),l.Ub(8,"input",7),l.Lc(9,ye,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(10,"div",6),l.Zb(11,"mat-form-field"),l.Zb(12,"mat-label"),l.Nc(13,"DESCRIPCION DETALLADA DE LA PROPUESTA"),l.Yb(),l.Ub(14,"textarea",8),l.Lc(15,Me,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(16,"div",9),l.Zb(17,"mat-form-field"),l.Zb(18,"mat-label"),l.Nc(19,"PROPONENTE"),l.Yb(),l.Zb(20,"mat-select",10),l.Lc(21,Ae,2,2,"mat-option",11),l.Yb(),l.Lc(22,Ee,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(23,"div",9),l.Zb(24,"mat-form-field"),l.Zb(25,"mat-label"),l.Nc(26,"Estado"),l.Yb(),l.Zb(27,"mat-select",12),l.hc("selectionChange",(function(t){return l.Dc(e),l.lc().GetAllUserByStatusCode(t.value)})),l.Lc(28,Ie,2,2,"mat-option",11),l.Yb(),l.Lc(29,Se,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(30,"div",9),l.Zb(31,"mat-form-field"),l.Zb(32,"mat-label"),l.Nc(33,"JEFE DE MANTENIMIENTO"),l.Yb(),l.Zb(34,"mat-select",13),l.Lc(35,Pe,2,2,"mat-option",11),l.Yb(),l.Lc(36,xe,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(37,"div",6),l.Zb(38,"mat-form-field"),l.Zb(39,"mat-label"),l.Nc(40,"Nombre ET"),l.Yb(),l.Ub(41,"mtx-select",14),l.Lc(42,qe,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(43,"div",6),l.Zb(44,"mat-form-field"),l.Zb(45,"mat-label"),l.Nc(46,"PASO TPM"),l.Yb(),l.Zb(47,"mat-select",15),l.Zb(48,"mat-option",16),l.Nc(49,"0"),l.Yb(),l.Zb(50,"mat-option",17),l.Nc(51,"1"),l.Yb(),l.Zb(52,"mat-option",18),l.Nc(53,"2"),l.Yb(),l.Zb(54,"mat-option",19),l.Nc(55,"3"),l.Yb(),l.Zb(56,"mat-option",20),l.Nc(57,"4"),l.Yb(),l.Zb(58,"mat-option",21),l.Nc(59,"5"),l.Yb(),l.Zb(60,"mat-option",22),l.Nc(61,"6"),l.Yb(),l.Zb(62,"mat-option",23),l.Nc(63,"7"),l.Yb(),l.Yb(),l.Lc(64,je,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(65,"div",6),l.Zb(66,"mat-form-field"),l.Zb(67,"mat-label"),l.Nc(68,"JEFE DE L\xedNEA"),l.Yb(),l.Ub(69,"mtx-select",24),l.Lc(70,Te,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(71,"div",6),l.Zb(72,"mat-form-field"),l.Zb(73,"mat-label"),l.Nc(74,"RESPONSABLE DE EJECUTAR"),l.Yb(),l.Ub(75,"input",25),l.Lc(76,Ue,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(77,"div",6),l.Zb(78,"mat-form-field"),l.Zb(79,"mat-label"),l.Nc(80,"CODIGO DEL EQUIPO"),l.Yb(),l.Zb(81,"mtx-select",26),l.hc("ngModelChange",(function(t){return l.Dc(e),l.lc().onChangeMaquina(t)})),l.Yb(),l.Lc(82,we,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(83,"div",6),l.Zb(84,"mat-form-field"),l.Zb(85,"mat-label"),l.Nc(86,"UBICACI\xd3N TECNICA"),l.Yb(),l.Zb(87,"mtx-select",27),l.hc("ngModelChange",(function(t){return l.Dc(e),l.lc().onChangeUbicacion(t)}))("ngModelChange",(function(t){return l.Dc(e),l.lc().ubicacionTecnica=t})),l.Yb(),l.Lc(88,Le,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(89,"div",6),l.Zb(90,"mat-form-field"),l.Zb(91,"mat-label"),l.Nc(92,"# CeCo "),l.Yb(),l.Ub(93,"input",28),l.Lc(94,ze,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(95,"div",6),l.Zb(96,"mat-form-field"),l.Zb(97,"mat-label"),l.Nc(98,"CLASE DE ACTIVIDAD"),l.Yb(),l.Zb(99,"mat-select",29),l.Lc(100,Je,2,2,"mat-option",11),l.Yb(),l.Lc(101,Ge,1,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(102,"div",30),l.Zb(103,"mat-form-field"),l.Zb(104,"mat-label"),l.Nc(105,"Costo Material"),l.Yb(),l.Zb(106,"input",31),l.hc("change",(function(t){return l.Dc(e),l.lc().changeCosto(t)}))("blur",(function(t){return l.Dc(e),l.lc().updateUSAmount(t)})),l.Yb(),l.Lc(107,Re,1,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(108,"div",30),l.Zb(109,"mat-form-field"),l.Zb(110,"mat-label"),l.Nc(111,"Costo Mano de Obra"),l.Yb(),l.Zb(112,"input",32),l.hc("change",(function(t){return l.Dc(e),l.lc().changeCosto(t)}))("blur",(function(t){return l.Dc(e),l.lc().updateUSAmount(t)})),l.Yb(),l.Lc(113,ke,1,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(114,"div",30),l.Zb(115,"mat-form-field"),l.Zb(116,"mat-label"),l.Nc(117,"Costo de Servicios"),l.Yb(),l.Zb(118,"input",33),l.hc("change",(function(t){return l.Dc(e),l.lc().changeCosto(t)}))("blur",(function(t){return l.Dc(e),l.lc().updateUSAmount(t)})),l.Yb(),l.Lc(119,_e,1,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(120,"div",30),l.Zb(121,"mat-form-field"),l.Zb(122,"mat-label"),l.Nc(123,"Costo Total"),l.Yb(),l.Ub(124,"input",34),l.Yb(),l.Yb(),l.Zb(125,"div",30),l.Zb(126,"mat-form-field"),l.Zb(127,"mat-label"),l.Nc(128,"Costo Real"),l.Yb(),l.Zb(129,"input",35),l.hc("blur",(function(t){return l.Dc(e),l.lc().updateUSAmount(t)})),l.Yb(),l.Yb(),l.Yb(),l.Zb(130,"div",30),l.Zb(131,"mat-form-field"),l.Zb(132,"mat-label"),l.Nc(133,"Valor Comprometido"),l.Yb(),l.Zb(134,"input",36),l.hc("blur",(function(t){return l.Dc(e),l.lc().updateUSAmount(t)})),l.Yb(),l.Yb(),l.Yb(),l.Zb(135,"div",9),l.Zb(136,"mat-form-field"),l.Zb(137,"mat-label"),l.Nc(138,"Con la mejora quedan repuestos obsoletos?"),l.Yb(),l.Zb(139,"mat-select",37),l.Zb(140,"mat-option",38),l.Nc(141,"SI"),l.Yb(),l.Zb(142,"mat-option",39),l.Nc(143,"No"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(144,"div",9),l.Zb(145,"mat-form-field"),l.Zb(146,"mat-label"),l.Nc(147,"se cambia la planificacion de los repuestos?"),l.Yb(),l.Zb(148,"mat-select",40),l.Zb(149,"mat-option",38),l.Nc(150,"SI"),l.Yb(),l.Zb(151,"mat-option",39),l.Nc(152,"No"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(153,"div",9),l.Zb(154,"mat-form-field"),l.Zb(155,"mat-label"),l.Nc(156,"se matriculan nuevas referencias? "),l.Yb(),l.Zb(157,"mat-select",41),l.Zb(158,"mat-option",38),l.Nc(159,"SI"),l.Yb(),l.Zb(160,"mat-option",39),l.Nc(161,"No"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(162,"div",6),l.Zb(163,"mat-form-field"),l.Zb(164,"mat-label"),l.Nc(165,"BENEFICIO CUALITATIVO"),l.Yb(),l.Ub(166,"textarea",42),l.Yb(),l.Yb(),l.Zb(167,"div",6),l.Zb(168,"mat-form-field"),l.Zb(169,"mat-label"),l.Nc(170,"BENEFICIO CUANTITATIVO $"),l.Yb(),l.Ub(171,"input",43),l.Yb(),l.Yb(),l.Zb(172,"div",9),l.Zb(173,"mat-form-field"),l.Zb(174,"mat-label"),l.Nc(175,"DURACION DEL TRABAJO (DIAS)"),l.Yb(),l.Zb(176,"input",44),l.hc("change",(function(){return l.Dc(e),l.lc().setDate()})),l.Yb(),l.Lc(177,Be,1,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(178,"div",9),l.Zb(179,"mat-form-field"),l.Zb(180,"input",45),l.hc("dateChange",(function(t){return l.Dc(e),l.lc().addEvent("change",t)})),l.Yb(),l.Ub(181,"mat-datepicker-toggle",46),l.Ub(182,"mat-datepicker",null,47),l.Lc(184,Ve,2,0,"mat-error",2),l.Yb(),l.Yb(),l.Zb(185,"div",9),l.Zb(186,"mat-form-field"),l.Zb(187,"mat-label"),l.Nc(188,"Fecha Final"),l.Yb(),l.Ub(189,"input",48),l.mc(190,"date"),l.Yb(),l.Yb(),l.Zb(191,"div",9),l.Zb(192,"mat-form-field"),l.Zb(193,"mat-label"),l.Nc(194,"Linea "),l.Yb(),l.Zb(195,"mat-select",49),l.hc("ngModelChange",(function(t){return l.Dc(e),l.lc().onChangeLinea(t)})),l.Lc(196,$e,2,2,"mat-option",11),l.Yb(),l.Yb(),l.Yb(),l.Zb(197,"div",9),l.Zb(198,"mat-form-field"),l.Zb(199,"mat-label"),l.Nc(200,"Horno "),l.Yb(),l.Zb(201,"mat-select",50),l.Lc(202,He,2,2,"mat-option",11),l.Yb(),l.Yb(),l.Yb(),l.Zb(203,"div",9),l.Zb(204,"mat-form-field"),l.Zb(205,"mat-label"),l.Nc(206,"Clasificaci\xf3n"),l.Yb(),l.Zb(207,"mat-select",51),l.Ub(208,"mat-option",16),l.Lc(209,Ke,2,2,"mat-option",11),l.Yb(),l.Yb(),l.Yb(),l.Zb(210,"div",9),l.Zb(211,"mat-form-field"),l.Zb(212,"mat-label"),l.Nc(213,"Orden de Manteniento"),l.Yb(),l.Ub(214,"input",52),l.Yb(),l.Yb(),l.Zb(215,"div",53),l.Zb(216,"mat-form-field"),l.Zb(217,"mat-label"),l.Nc(218,"Nota de matenimiento"),l.Yb(),l.Ub(219,"textarea",54),l.Yb(),l.Yb(),l.Zb(220,"div",9),l.Zb(221,"mat-checkbox",55),l.Nc(222,"Enviar Correo electronico al Jefe?"),l.Yb(),l.Yb(),l.Yb(),l.Zb(223,"button",56),l.Nc(224,"Actualizar Orden"),l.Yb(),l.Yb(),l.Lc(225,Xe,3,1,"div",57),l.Yb()}if(2&e){const e=l.Ac(2),t=l.Ac(183),a=l.lc();l.Fb(1),l.rc("formGroup",a.reactiveForm2),l.Fb(8),l.rc("ngIf",a.reactiveForm2.get("nombre").invalid),l.Fb(6),l.rc("ngIf",a.reactiveForm2.get("descripcion").invalid),l.Fb(6),l.rc("ngForOf",a.UsersStatusProponente||l.tc(54,We)),l.Fb(1),l.rc("ngIf",a.reactiveForm2.get("proponente").invalid),l.Fb(6),l.rc("ngForOf",a.FlujoData||l.tc(55,We)),l.Fb(1),l.rc("ngIf",a.reactiveForm2.get("estado").invalid),l.Fb(6),l.rc("ngForOf",a.UsersStatus||l.tc(56,We)),l.Fb(1),l.rc("ngIf",a.reactiveForm2.get("AsignadoA").invalid),l.Fb(5),l.rc("items",a.petsData),l.Fb(1),l.rc("ngIf",a.reactiveForm2.get("nombreDelPet").invalid),l.Fb(22),l.rc("ngIf",a.reactiveForm2.get("pasoTPM").invalid),l.Fb(5),l.rc("items",a.puestodetrabajoData),l.Fb(1),l.rc("ngIf",a.reactiveForm2.get("responsableDelPuestoDetrabajo").invalid),l.Fb(6),l.rc("ngIf",a.reactiveForm2.get("responsableEjecutor").invalid),l.Fb(5),l.rc("items",a.maquinasData),l.Fb(1),l.rc("ngIf",a.reactiveForm2.get("codigoDelEquipo").invalid),l.Fb(5),l.rc("items",a.ubcacionTecnicaData)("ngModel",a.ubicacionTecnica),l.Fb(1),l.rc("ngIf",a.reactiveForm2.get("ubicacionTecnica").invalid),l.Fb(6),l.rc("ngIf",a.reactiveForm2.get("CodigoNormaDeLiquidacion").invalid),l.Fb(6),l.rc("ngForOf",a.ClaseDeActividad||l.tc(57,We)),l.Fb(1),l.rc("ngIf",a.reactiveForm2.get("claseDeActividadID").invalid),l.Fb(5),l.rc("allowNegative","false")("currencyCode","COP"),l.Fb(1),l.rc("ngIf",a.reactiveForm2.get("costomaterial").invalid),l.Fb(5),l.rc("allowNegative","false")("currencyCode","COP"),l.Fb(1),l.rc("ngIf",a.reactiveForm2.get("costomanodeobra").invalid),l.Fb(5),l.rc("allowNegative","false")("currencyCode","COP"),l.Fb(1),l.rc("ngIf",a.reactiveForm2.get("costoservicios").invalid),l.Fb(5),l.rc("value",a.costoTotal)("allowNegative","false")("currencyCode","COP"),l.Fb(5),l.rc("allowNegative","false")("currencyCode","COP"),l.Fb(5),l.rc("allowNegative","false")("currencyCode","COP"),l.Fb(37),l.rc("allowNegative","false")("currencyCode","COP"),l.Fb(6),l.rc("ngIf",a.reactiveForm2.get("duraciondelTrabajo").invalid),l.Fb(3),l.rc("matDatepicker",t),l.Fb(1),l.rc("for",t),l.Fb(3),l.rc("ngIf",a.reactiveForm2.get("fechaInicio").invalid),l.Fb(5),l.rc("value",l.oc(190,51,a.fechaFinal,"dd/MM/yyyy")),l.Fb(7),l.rc("ngForOf",a.LineaData||l.tc(58,We)),l.Fb(6),l.rc("ngForOf",a.vHornoResultData||l.tc(59,We)),l.Fb(7),l.rc("ngForOf",a.ClasificacionData||l.tc(60,We)),l.Fb(14),l.rc("disabled",a.submitted||!e.valid),l.Fb(2),l.rc("ngIf",a.showMessages.error&&(null==a.errors?null:a.errors.length)&&!a.submitted)}}let tt=(()=>{class e{constructor(e,t,a,i,o,r){this.fb=e,this.route=t,this.authService=a,this.authorizationService=i,this.router=o,this.dateAdapter=r,this.isAuthenticated=!1,this.orderZMEJ={},this.errors=[],this.showMessages={},this.loading=!1,this.NormaDeLiquidacionData=[],this.LineaData=[],this.vHornoResultData=[],this.HornoData=[],this.maquinasData=[],this.ClasificacionData=[],this.ubcacionTecnicaData=[],this.FlujoData=[],this.submitted=!1,this.alive=!0,this.ubicacionTecnica="",this.codigoDelEquipo="",this.costoTotal=0,this.show_form=!1,this.usAmount=0,this.dateAdapter.setLocale("en-GB"),this.showMessages={success:!0,error:!0},this.reactiveForm2=this.fb.group({id:null,nombre:["",[s.w.required]],descripcion:["",[s.w.required]],proponente:["",[s.w.required]],AsignadoA:["",[s.w.required]],nombreDelPet:[""],pasoTPM:[""],responsableDelPuestoDetrabajo:[""],responsableEjecutor:[""],codigoDelEquipo:[""],descripcionDelEquipo:[""],ubicacionTecnica:[""],descripcionDeUbicacionTecnica:[""],NormaDeLiquidacionId:["1"],CodigoNormaDeLiquidacion:[""],claseDeActividadID:[""],costomaterial:["0"],costomanodeobra:["0"],costoservicios:["0"],valcomprometido:["0"],costoPlaneado:["0"],beneficioCualitativo:"",beneficioCuantitativo:0,duraciondelTrabajo:["0"],fechaInicio:[""],pregunta1:"",pregunta2:"",pregunta3:"",estado:[0],linea:"",horno:"",costoreal:0,ordenMantenimiento:"",notaMantenimiento:"",clasificacion:"0",enviarCorreo:!1}),a.isLoggedIn()&&(this.isAuthenticated=!0,this.GetAllClaseDeActividad(),this.GetAllNormaDeLiquidacion(),this.GetAllUserValidador(),this.GetAllProponente(),this.GetAllMaquinas(),this.GetAllPets(),this.GetAllPuestoDeTrabajos(),this.GetAllUbicacionTecnica(),this.GetAllGrupoPlanificador(),this.GetAllResCrontrolProd(),this.GetAllStatusCode(),this.GetAllClasificacion(),this.delayAndShow())}ngOnInit(){this.route.paramMap.subscribe(e=>{this.getOrderZMEJjById(e.get("id"))})}onChangeLinea(e){try{this.reactiveForm2.controls.horno.setValue(""),this.vHornoResultData=this.HornoData.filter(t=>t.resControlProdId===e)}catch(t){}}GetAllClasificacion(){try{this.authorizationService.get("ZMEJ.api/clasificacion/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ClasificacionData=e.body})}catch(e){console.log(e)}}getOrderZMEJjById(e){try{this.loading=!0,this.authorizationService.get("api/OrderZMEJ/findbyid/"+e).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.loading=!1,this.orderZMEJ=e.body,this.SetOrderForm()})}catch(t){this.loading=!1,console.log(t)}}SetOrderForm(){try{null!=this.orderZMEJ&&(console.log(this.orderZMEJ),this.reactiveForm2.patchValue({id:this.orderZMEJ.id,nombre:this.orderZMEJ.nombre,descripcion:this.orderZMEJ.descripcion,proponente:this.orderZMEJ.proponente,AsignadoA:this.orderZMEJ.asignadoA,nombreDelPet:this.orderZMEJ.nombreDelPet,pasoTPM:this.orderZMEJ.pasoTPM,responsableDelPuestoDetrabajo:this.orderZMEJ.responsableDelPuestoDetrabajo,responsableEjecutor:this.orderZMEJ.responsableEjecutor,codigoDelEquipo:this.orderZMEJ.codigoDelEquipo,descripcionDelEquipo:this.orderZMEJ.descripcionDelEquipo,ubicacionTecnica:this.orderZMEJ.ubicacionTecnica,descripcionDeUbicacionTecnica:this.orderZMEJ.descripcionDeUbicacionTecnica,CodigoNormaDeLiquidacion:this.orderZMEJ.codigoNormaDeLiquidacion,claseDeActividadID:this.orderZMEJ.claseDeActividadID,costomaterial:this.orderZMEJ.costoMaterial,costomanodeobra:this.orderZMEJ.costomanodeobra,costoservicios:this.orderZMEJ.costoServicios,valcomprometido:this.orderZMEJ.valComprometido,costoPlaneado:this.orderZMEJ.costoPlaneado,beneficioCualitativo:this.orderZMEJ.beneficioCualitativo,beneficioCuantitativo:this.orderZMEJ.beneficioCuantitativo,duraciondelTrabajo:this.orderZMEJ.duraciondelTrabajo,fechaInicio:this.orderZMEJ.fechaInicio,pregunta1:this.orderZMEJ.pregunta1,pregunta2:this.orderZMEJ.pregunta2,pregunta3:this.orderZMEJ.pregunta3,ordenMantenimiento:this.orderZMEJ.ordenMantenimiento,notaMantenimiento:this.orderZMEJ.notaMantenimiento,linea:this.orderZMEJ.linea,horno:this.orderZMEJ.horno,costoreal:this.orderZMEJ.costoReal,estado:this.orderZMEJ.estado,clasificacion:this.orderZMEJ.clasificacion,enviarCorreo:!1}),this.changeCosto(0),this.ubicacionTecnica=this.orderZMEJ.ubicacionTecnica,this.fechaFinal=this.orderZMEJ.fechaFin,this.GetAllUserByStatusCode(this.orderZMEJ.estado),this.onChangeUbicacion(this.orderZMEJ.ubicacionTecnica))}catch(e){}}delayAndShow(){try{setTimeout(()=>{this.show_form=!0,console.log(this.show_form)},3e3)}catch(e){}}GetAllUserValidador(){this.authorizationService.get("api/RoleStatusCode/getUserByCode/2/"+Y.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatus=e.body},e=>{})}GetAllProponente(){this.authorizationService.get("api/RoleStatusCode/getUserByCode/1/"+Y.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatusProponente=e.body},e=>{})}GetAllNormaDeLiquidacion(){this.authorizationService.get("ZMEJ.api/NormaDeLiquidacion/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.NormaDeLiquidacionData=e.body},e=>{})}GetAllClaseDeActividad(){this.authorizationService.get("ZMEJ.api/ClaseDeActividad/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ClaseDeActividad=e.body},e=>{})}GetAllPets(){this.authorizationService.get("maestrassip.api/pets/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.petsData=e.body},e=>{})}GetAllResCrontrolProd(){this.authorizationService.get("zmej.api/resctrlproduccion/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.LineaData=e.body},e=>{})}GetAllUserByStatusCode(e){try{this.loading=!0,this.authorizationService.get("api/RoleStatusCode/getUserByCode/"+e+"/"+Y.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatus=e.body,this.loading=!1},e=>{})}catch(t){this.loading=!1}}GetAllStatusCode(){try{this.authorizationService.get("zmej.api/statuscode/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.FlujoData=e.body})}catch(e){console.log(e)}}GetAllGrupoPlanificador(){this.authorizationService.get("zmej.api/grupoPlanificador/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.HornoData=e.body,this.vHornoResultData=this.HornoData},e=>{})}GetAllMaquinas(){this.maquinasData=[],this.authorizationService.get("zmej.api/maquinas/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.maquinasData=e.body},e=>{})}GetAllUbicacionTecnica(){this.authorizationService.get("zmej.api/ubicacionTecnica/getallactive").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ubcacionTecnicaData=e.body},e=>{})}GetAllPuestoDeTrabajos(){this.authorizationService.get("zmej.api/puestodetrabajo/getallactive").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.puestodetrabajoData=e.body},e=>{})}onSubmitOrderzmej(){this.errors=[],this.messages=[],this.submitted=!0;try{this.authorizationService.post("api/OrderZMEJ/update",this.reactiveForm2.value).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{200==e.status?(console.log("redirect..."),this.messages[0]="datos guardados correctamente",setTimeout(()=>this.router.navigateByUrl("/orders/zmej"),this.redirectDelay)):403==e.status?(this.submitted=!1,this.errors[0]="No tienes permiso para realizar esta acci\xf3n"):(this.submitted=!1,this.errors[0]=e.error,console.log(e.error))},e=>{this.submitted=!1,this.errors=e})}catch(e){console.log(e),this.submitted=!1}}onChangeUbicacion(e){try{console.log(e),this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue("");let t=this.ubcacionTecnicaData.filter(t=>t.ubicacion===e);null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue(t[0].descripcion))}catch(t){console.log("error en ubicacion tecnica")}}onChangeMaquina(e){try{this.reactiveForm2.controls.descripcionDelEquipo.setValue("");let t=this.maquinasData.filter(t=>t.maquina===e);null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDelEquipo.setValue(t[0].descripcion))}catch(t){console.log("error en onChangeMaquina ")}}changeCosto(e){try{let e=this.reactiveForm2.get("costoservicios"),o=this.reactiveForm2.get("costomanodeobra"),r=this.reactiveForm2.get("costomaterial");var t=+e.value,a=+o.value,i=+r.value;console.log(t),console.log(a),this.costoTotal=t+a+i}catch(o){}}numberFormat(e){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(e)}updateUSAmount(e){this.usAmount=e.target.value}setDate(){try{let e=this.reactiveForm2.get("fechaInicio").value,t=+this.reactiveForm2.get("duraciondelTrabajo").value,a=new Date(e);new Date,console.log(a),this.fechaFinal=this.addDays(a,t)}catch(e){}}addDays(e,t){return e.setDate(e.getDate()+t),e}addEvent(e,t){this.setDate()}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(s.e),l.Tb(o.a),l.Tb(c.b),l.Tb(c.c),l.Tb(o.f),l.Tb(p.c))},e.\u0275cmp=l.Nb({type:e,selectors:[["ngx-orderzmej"]],decls:7,vars:1,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],[4,"ngIf"],[1,"form-field-full",3,"formGroup","ngSubmit"],["form","ngForm"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],["matInput","","placeholder","nombre de la propuesta","formControlName","nombre","required",""],["matInput","","cdkTextareaAutosize","","formControlName","descripcion","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["fxFlex","33.3","fxFlex.lt-sm","100"],["required","","formControlName","proponente","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","estado","required","",3,"selectionChange"],["required","","formControlName","AsignadoA","required",""],["bindLabel","descripcion","bindValue","descripcion","autofocus","","formControlName","nombreDelPet",3,"items"],["formControlName","pasoTPM"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["bindLabel","fullDescripcion","bindValue","fullDescripcion","autofocus","","formControlName","responsableDelPuestoDetrabajo",3,"items"],["matInput","","placeholder","Simple placeholder","type","text","formControlName","responsableEjecutor"],["bindLabel","fullDescripcion","bindValue","maquina","autofocus","","formControlName","codigoDelEquipo",3,"items","ngModelChange"],["bindLabel","fullDescripcion","bindValue","fullDescripcion","autofocus","","formControlName","ubicacionTecnica",3,"items","ngModel","ngModelChange"],["matInput","","placeholder","nombre","formControlName","CodigoNormaDeLiquidacion"],["formControlName","claseDeActividadID"],["fxFlex","20","fxFlex.lt-sm","100"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomaterial","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","change","blur"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomanodeobra","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","change","blur"],["matInput","","placeholder","Costo Material","type","text","formControlName","costoservicios","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","change","blur"],["matInput","","mvndrMatCurrencyFormat","","formControlName","costoPlaneado","readonly","",3,"value","allowNegative","currencyCode"],["matInput","","placeholder","Costo Real","type","text","formControlName","costoreal","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","blur"],["matInput","","placeholder","Costo Real","type","text","formControlName","valcomprometido","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","blur"],["formControlName","pregunta1"],["value","Si"],["value","No"],["formControlName","pregunta2"],["formControlName","pregunta3"],["matInput","","cdkTextareaAutosize","","formControlName","beneficioCualitativo","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["matInput","","placeholder","beneficioCuantitativo","mvndrMatCurrencyFormat","","formControlName","beneficioCuantitativo",3,"allowNegative","currencyCode"],["matInput","","placeholder","","formControlName","duraciondelTrabajo",3,"change"],["matInput","","placeholder","Fecha de inicio","formControlName","fechaInicio",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","",3,"value"],["formControlName","linea",3,"ngModelChange"],["formControlName","horno"],["formControlName","clasificacion"],["matInput","","placeholder","Orden","type","text","formControlName","ordenMantenimiento"],["fxFlex","66.3","fxFlex.lt-sm","100"],["matInput","","cdkTextareaAutosize","","formControlName","notaMantenimiento","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["id","amateur","color","primary","formControlName","enviarCorreo",1,"amateur"],["mat-raised-button","","color","primary",1,"m-t-8",3,"disabled"],["class","m-t-16","outline","danger",4,"ngIf"],[3,"value"],["outline","danger",1,"m-t-16"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"]],template:function(e,t){1&e&&(l.Ub(0,"page-header"),l.Zb(1,"div",0),l.Zb(2,"div",1),l.Zb(3,"mat-card"),l.Zb(4,"mat-card-title"),l.Nc(5,"Editar Orden "),l.Yb(),l.Lc(6,et,226,61,"div",2),l.Yb(),l.Yb(),l.Yb()),2&e&&(l.Fb(6),l.rc("ngIf",t.show_form&&null!=t.orderZMEJ&&null!=t.orderZMEJ.id))},directives:[P.a,x.c,x.a,q.a,q.c,m.n,s.x,s.q,s.j,x.d,b.c,b.g,u.b,s.c,s.p,s.h,s.v,B.b,d.a,m.m,V.a,p.n,$,K.b,K.d,b.i,K.a,Q.a,h.b,b.b],pipes:[m.f],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();function at(e,t){if(1&e&&(l.Zb(0,"mat-option",8),l.Nc(1),l.Yb()),2&e){const e=t.$implicit;l.sc("value",e.code),l.Fb(1),l.Oc(e.name)}}const it=function(){return[5,10,20]},ot=[{path:"zmej",component:_,data:{title:"Ordenes"}},{path:"my_orders",component:(()=>{class e{constructor(e,t,a,i,o,r,c){this.authService=e,this.pagerService=t,this.datePipe=a,this.currencyPipe=i,this.cdr=o,this.authorizationService=r,this._router=c,this.FlujoData=[],this.isAuthenticated=!1,this.alive=!0,this.columns=[{header:"Orden",field:"ordenMantenimiento",width:"100px"},{header:"Nombre",field:"Nombre",formatter:e=>`<span class="sortable" (click)="viewOrderzmejDetail(${e.id})">${e.nombre}</span>`},{header:"ET",field:"nombreDelPet"},{header:"Costo Real",field:"costoReal",formatter:e=>""+this.currencyPipe.transform(e.costoReal,"","symbol","1.0-0")},{header:"Costo Planeado",field:"costoPlaneado",formatter:e=>""+this.currencyPipe.transform(e.costoPlaneado,"","symbol","1.0-0")},{header:"Estado",field:"nombreEstado"},{header:"Clasificaci\xf3n",field:"nombreClasificacion"},{header:"Fecha de inicio",field:"fechaInicio",formatter:e=>""+this.datePipe.transform(e.fechaInicio,"dd/MM/yyyy")},{header:"codigo del equipo",field:"codigoDelEquipo"},{header:"Descripcion del equipo",field:"descripcionDelEquipo"},{header:"Option",field:"option",width:"120px",pinned:"right",right:"0px",type:"button",buttons:[{type:"icon",text:"Ver detalle",icon:"visibility",tooltip:"Ver detalle",click:e=>this.viewOrderzmejDetail(e)},{icon:"edit",tooltip:"Editar",type:"icon",click:e=>this.EditOrderzmejDetail(e)}]}],this.list=[],this.total=0,this.isLoading=!0,this.query={q:"",sort:"stars",name:"0",page:0,per_page:10},e.isLoggedIn()&&(this.isAuthenticated=!0,this.GetAllMyOrderZMEJ(),this.GetAllStatusCode())}ngOnInit(){}GetAllStatusCode(){try{this.authorizationService.get("zmej.api/statuscode/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.FlujoData=e.body})}catch(e){console.log(e)}}GetAllMyOrderZMEJ(){try{this.authorizationService.get("zmej.api/OrderZMEJ/getAllAssigned").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.OrderData=e.body,null!=this.OrderData&&(this.setpage(),this.total=this.OrderData.length,this.cdr.detectChanges()),this.isLoading=!1})}catch(e){console.log(e)}}applyFilter(e){e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e}addOrderzmej(e){null==e&&this._router.navigate(["/tickets/orders/create-zmej"])}viewOrderzmejDetail(e){null!=e&&this._router.navigate(["/ordenes/order-zmej-details/"+e.id])}get params(){const e=Object.assign({},this.query);return e.page+=1,Object(J.a)(e)}getNextPage(e){this.query.page=e.pageIndex,this.query.per_page=e.pageSize,this.setpage()}search(){this.query.page=0,this.setpage()}setpage(){try{let e=this.pagerService.getPager(this.OrderData.length,this.query.page+1,this.query.per_page);this.list=this.OrderData.slice(e.startIndex,e.endIndex+1)}catch(e){}}EditOrderzmejDetail(e){null!=e&&this._router.navigate(["/ordenes/edit-zmej/"+e.id])}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(c.b),l.Tb(c.e),l.Tb(m.f),l.Tb(m.d),l.Tb(l.h),l.Tb(c.c),l.Tb(o.f))},e.\u0275cmp=l.Nb({type:e,selectors:[["ngx-my-orderzmej"]],decls:14,vars:12,consts:[[1,"bg-blue-600"],[1,"m-r-8"],["matInput","","name","q","placeholder","Buscar por nombre",3,"ngModel","ngModelChange"],["name","order","placeholder","Filtrar por estado",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"m-r-8",3,"click"],[3,"data","columns","length","loading","pageOnFront","pageIndex","pageSize","pageSizeOptions","page"],[3,"value"]],template:function(e,t){1&e&&(l.Ub(0,"page-header",0),l.Zb(1,"form"),l.Zb(2,"mat-form-field",1),l.Zb(3,"input",2),l.hc("ngModelChange",(function(e){return t.query.q=e})),l.Yb(),l.Yb(),l.Zb(4,"mat-form-field",1),l.Zb(5,"mat-select",3),l.hc("ngModelChange",(function(e){return t.query.name=e})),l.Zb(6,"mat-option",4),l.Nc(7,"-- None --"),l.Yb(),l.Lc(8,at,2,2,"mat-option",5),l.Yb(),l.Yb(),l.Zb(9,"button",6),l.hc("click",(function(){return t.search()})),l.Nc(10,"Buscar"),l.Yb(),l.Zb(11,"button",6),l.hc("click",(function(){return t.addOrderzmej(null)})),l.Nc(12,"Crear nueva orden"),l.Yb(),l.Yb(),l.Zb(13,"mtx-grid",7),l.hc("page",(function(e){return t.getNextPage(e)})),l.Yb()),2&e&&(l.Fb(3),l.rc("ngModel",t.query.q),l.Fb(2),l.rc("ngModel",t.query.name),l.Fb(3),l.rc("ngForOf",t.FlujoData),l.Fb(5),l.rc("data",t.list)("columns",t.columns)("length",t.total)("loading",t.isLoading)("pageOnFront",!1)("pageIndex",t.query.page)("pageSize",t.query.per_page)("pageSizeOptions",l.tc(11,it)))},directives:[P.a,s.x,s.q,s.r,b.c,u.b,s.c,s.p,s.s,d.a,p.n,m.m,h.b,G.a],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"]}),e})()},{path:"create-zmej",component:Oe},{path:"order-zmej-details/:id",component:z},{path:"edit-zmej/:id",component:tt}];let rt=(()=>{class e{}return e.\u0275mod=l.Rb({type:e}),e.\u0275inj=l.Qb({factory:function(t){return new(t||e)},imports:[[o.j.forChild(ot)],o.j]}),e})(),ct=(()=>{class e{}return e.\u0275mod=l.Rb({type:e}),e.\u0275inj=l.Qb({factory:function(t){return new(t||e)},providers:[m.f,m.d],imports:[[i.a,H,rt]]}),e})()}}]);