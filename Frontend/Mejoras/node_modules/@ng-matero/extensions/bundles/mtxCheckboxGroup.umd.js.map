{"version":3,"file":"mtxCheckboxGroup.umd.js","sources":["ng://@ng-matero/extensions/checkbox-group/checkbox-group.component.ts","ng://@ng-matero/extensions/checkbox-group/checkbox-group.module.ts","ng://@ng-matero/extensions/checkbox-group/checkbox-group.interface.ts"],"sourcesContent":["import {\n  Component,\n  OnInit,\n  ChangeDetectionStrategy,\n  ViewEncapsulation,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectorRef,\n  forwardRef,\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\nimport { MtxCheckboxGroupOption } from './checkbox-group.interface';\n\n@Component({\n  selector: 'mtx-checkbox-group',\n  exportAs: 'mtxCheckboxGroup',\n  host: {\n    class: 'mtx-checkbox-group',\n  },\n  templateUrl: './checkbox-group.component.html',\n  styleUrls: ['./checkbox-group.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => MtxCheckboxGroupComponent),\n      multi: true,\n    },\n  ],\n})\nexport class MtxCheckboxGroupComponent implements OnInit, ControlValueAccessor {\n  @Input() selectAllLabel = 'Select All';\n  @Input() showSelectAll = true;\n\n  @Output() change = new EventEmitter<{ model: MtxCheckboxGroupOption[]; index: number }>();\n\n  selectAll = false;\n  selectAllIndeterminate = false;\n\n  options: MtxCheckboxGroupOption[] = [];\n\n  controlDisabled = false;\n\n  _onChange: (value: MtxCheckboxGroupOption[]) => void = () => null;\n  _onTouched: () => void = () => null;\n\n  constructor(private _changeDetectorRef: ChangeDetectorRef) {}\n\n  ngOnInit() {}\n\n  writeValue(value: MtxCheckboxGroupOption[]): void {\n    if (value) {\n      this.options = value;\n    }\n\n    this._checkMasterCheckboxState();\n    this._changeDetectorRef.markForCheck();\n  }\n\n  registerOnChange(fn: (value: MtxCheckboxGroupOption[]) => {}): void {\n    this._onChange = fn;\n  }\n\n  registerOnTouched(fn: () => {}): void {\n    this._onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean) {\n    this.controlDisabled = isDisabled;\n  }\n\n  private _checkMasterCheckboxState() {\n    if (this.options.filter(item => item.checked || !item.disabled).every(item => !item.checked)) {\n      this.selectAll = false;\n      this.selectAllIndeterminate = false;\n    } else if (\n      this.options.filter(item => item.checked || !item.disabled).every(item => item.checked)\n    ) {\n      this.selectAll = true;\n      this.selectAllIndeterminate = false;\n    } else {\n      this.selectAllIndeterminate = true;\n    }\n  }\n\n  _updateNormalCheckboxState(e?: boolean, index?: number): void {\n    this._checkMasterCheckboxState();\n\n    this.change.emit({\n      model: this.options,\n      index,\n    });\n  }\n\n  _updateMasterCheckboxState(e?: boolean, index?: number): void {\n    this.selectAll = !this.selectAll;\n    this.selectAllIndeterminate = false;\n    if (this.selectAll) {\n      this.options\n        .filter(item => item.checked || !item.disabled)\n        .forEach(item => (item.checked = true));\n    } else {\n      this.options\n        .filter(item => item.checked || !item.disabled)\n        .forEach(item => (item.checked = !!item.disabled));\n    }\n\n    this.change.emit({\n      model: this.options,\n      index,\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\n\nimport { MtxCheckboxGroupComponent } from './checkbox-group.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, MatCheckboxModule],\n  exports: [MtxCheckboxGroupComponent],\n  declarations: [MtxCheckboxGroupComponent],\n})\nexport class MtxCheckboxGroupModule {}\n","export interface MtxCheckboxGroupOption {\n  label: string;\n  value: string;\n  checked?: boolean;\n  disabled?: boolean;\n}\n"],"names":["EventEmitter","Component","ViewEncapsulation","ChangeDetectionStrategy","NG_VALUE_ACCESSOR","forwardRef","ChangeDetectorRef","Input","Output","NgModule","CommonModule","FormsModule","MatCheckboxModule"],"mappings":"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"}